 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 1 - 10/11/2023 20:38:14


       1/       0 :                     ;;;
       2/       0 :                     ;;; Universal Monitor 68000
       3/       0 :                     ;;;   Copyright (C) 2021 Haruo Asano
       4/       0 :                     ;;;
       5/       0 :                     
       6/       0 :                     	CPU	68030
       7/       0 :                     	SUPMODE	ON
       8/       0 :                     
       9/       0 :                     	INCLUDE	"config.inc"
(1)    1/       0 :                     ;;; -*- asm -*-
(1)    2/       0 :                     ;;;
(1)    3/       0 :                     ;;; Universal Monitor 68000 config file (for MEZ68k8)
(1)    4/       0 :                     ;;;
(1)    5/       0 :                     
(1)    6/       0 :                     ;;;
(1)    7/       0 :                     ;;; Memory
(1)    8/       0 :                     ;;;
(1)    9/       0 :                     
(1)   10/       0 : =$0                 ROM_B:	EQU	$00000000
(1)   11/       0 :                     
(1)   12/       0 : =$8600              WORK_B:	EQU	$00008600
(1)   13/       0 : =$8FF0              STACK:	EQU	$00008FF0
(1)   14/       0 : =$8500              USTACK:	EQU	$00008500	; USP
(1)   15/       0 :                     
(1)   16/       0 : =$18                BUFLEN:	EQU	24		; Input buffer size
(1)   17/       0 : =$100               VECSIZ:	EQU	256		; Number of vectors to be initialized
(1)   18/       0 :                     
(1)   19/       0 :                     ;;;
(1)   20/       0 :                     ;;; Options
(1)   21/       0 :                     ;;;
(1)   22/       0 :                     
(1)   23/       0 : =$1                 USE_IDENT = 1			; MPU Identification
(1)   24/       0 : =$0                 MPU_SPEC = 0			; MPU Spec. (Effective when USE_IDENT=0) 0:MC68000/8 1:MC68010
(1)   25/       0 :                     
(1)   26/       0 : =$1                 USE_REGCMD = 1			; R(egister) command and related functions
(1)   27/       0 :                     
(1)   28/       0 :                     ;;;
(1)   29/       0 :                     ;;; Motorola MC6850
(1)   30/       0 :                     ;;;
(1)   31/       0 :                     
(1)   32/       0 : =$1                 USE_DEV_6850 = 1
(1)   33/       0 : =>TRUE              	IF USE_DEV_6850
(1)   34/       0 : =$40000001          ACIAC:	EQU	$40000001
(1)   35/       0 : =$40000000          ACIAD:	EQU	$40000000
(1)   36/       0 :                     ;CR_V:	EQU	$15		; x16, 8bit, N, 1
(1)   37/       0 : [33]                	ENDIF
(1)   38/       0 :                     
(1)   39/       0 :                     ;;;
(1)   40/       0 :                     ;;; Motorola MC68681
(1)   41/       0 :                     ;;;
(1)   42/       0 :                     
(1)   43/       0 : =$0                 USE_DEV_68681 = 0
(1)   44/       0 : =>FALSE             	IF USE_DEV_68681
(1)   45/       0 :                     DUBASE:	EQU	$00080100
(1)   46/       0 :                     MR1A_V:	EQU	$13		; 8bit, N
(1)   47/       0 :                     MR2A_V:	EQU	$07		; 1
(1)   48/       0 :                     CSRA_V:	EQU	$BB		; 9600 (3.6864MHz)
(1)   49/       0 : [44]                	ENDIF
(1)   50/       0 :                     
(1)   51/       0 :                     ;;;
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm(config.inc) - Page 2 - 10/11/2023 20:38:14


(1)   52/       0 :                     ;;; Motorola MC68901
(1)   53/       0 :                     ;;;
(1)   54/       0 :                     
(1)   55/       0 : =$0                 USE_DEV_68901 = 0
(1)   56/       0 : =>FALSE             	IF USE_DEV_68901
(1)   57/       0 :                     MFBASE:	EQU	$00080000
(1)   58/       0 :                     UCR_V:	EQU	$88		; x16, 8bit, N, 1
(1)   59/       0 : [56]                	ENDIF
(1)   60/       0 :                     
(1)   61/       0 :                     ;;;
(1)   62/       0 :                     ;;; EMILY Board (Shared Memory)
(1)   63/       0 :                     ;;;
(1)   64/       0 :                     
(1)   65/       0 : =$0                 USE_DEV_EMILY = 0
(1)   66/       0 : =>FALSE             	IF USE_DEV_EMILY
(1)   67/       0 :                     	;;
(1)   68/       0 :                     SMBASE:	EQU	$00001FF0
(1)   69/       0 : [66]                	ENDIF
(1)   70/       0 :                     
      10/       0 : =>UNDEFINED         	IFNDEF USE_SFDECODE
      11/       0 : =$1                 USE_SFDECODE = 1
      12/       0 : [10]                	ENDIF
      13/       0 :                     
      14/       0 :                     	INCLUDE	"../common.inc"
(1)    1/       0 :                     ;;; -*- asm -*-
(1)    2/       0 :                     ;;;
(1)    3/       0 :                     ;;; Common header file
(1)    4/       0 :                     ;;;
(1)    5/       0 :                     
(1)    6/       0 :                     	RELAXED	ON
(1)    7/       0 :                     
(1)    8/       0 :                     ;;; Constants
(1)    9/       0 : =$D                 CR:	EQU	0x0D
(1)   10/       0 : =$A                 LF:	EQU	0x0A
(1)   11/       0 : =$8                 BS:	EQU	0x08
(1)   12/       0 : =$7F                DEL:	EQU	0x7F
(1)   13/       0 :                     
(1)   14/       0 :                     ;;; Functions
(1)   15/       0 :                     low	function	x,(x & 255)
(1)   16/       0 :                     high	function	x,(x >> 8)
(1)   17/       0 :                     
(1)   18/       0 :                     	RELAXED	OFF
(1)   19/       0 :                     
      15/       0 :                     
      16/       0 :                     ;;;
      17/       0 :                     ;;; ROM area
      18/       0 :                     ;;;
      19/       0 :                     
      20/       0 :                     	ORG	ROM_B
      21/       0 :                     
      22/       0 :                     INIVEC:
      23/       0 :                     	;; 0-7
      24/       0 : 0000 8FF0           	DC.L	STACK		; Reset: Initial SSP
      25/       4 : 0000 00C0           	DC.L	CSTART		; Reset: Initial PC
      26/       8 :                     
      27/       8 : 0000 0870           	DC.L	BUSERR_H	; Bus Error
      28/       C : 0000 0884           	DC.L	ADDERR_H	; Address Error
      29/      10 :                     
      30/      10 : 0000 0898           	DC.L	ILLINS_H	; Illegal Instruction
      31/      14 : 0000 0922           	DC.L	ZERDIV_H	; Zero Divide
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 3 - 10/11/2023 20:38:14


      32/      18 : 0000 0938           	DC.L	CHK_H		; CHK Instruction
      33/      1C : 0000 094E           	DC.L	TRAPV_H		; TRAPV Instruction
      34/      20 :                     
      35/      20 :                     	;; 8-15
      36/      20 : 0000 0964           	DC.L	PRIV_H		; Privilege Violation
      37/      24 : 0000 097A           	DC.L	TRACE_H		; Trace
      38/      28 : 0000 0990           	DC.L	L1010_H		; Line 1010 Emulator
      39/      2C : 0000 09A6           	DC.L	L1111_H		; Line 1111 Emulator
      40/      30 :                     
      41/      30 : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      42/      34 : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      43/      38 : 0000 09BC           	DC.L	FORMAT_H	; Format Error (MC68010)
      44/      3C : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      45/      40 :                     
      46/      40 :                     	;; 16-23
      47/      40 : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      48/      44 : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      49/      48 : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      50/      4C : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      51/      50 :                     
      52/      50 : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      53/      54 : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      54/      58 : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      55/      5C : 0000 086E           	DC.L	DUMMY_H		; (Unassigned, reserved)
      56/      60 :                     
      57/      60 :                     	;; 24-31
      58/      60 : 0000 086E           	DC.L	DUMMY_H		; Spurious Interrupt
      59/      64 : 0000 086E           	DC.L	DUMMY_H		; Level 1 Interrupt Autovector
      60/      68 : 0000 086E           	DC.L	DUMMY_H		; Level 2 Interrupt Autovector
      61/      6C : 0000 086E           	DC.L	DUMMY_H		; Level 3 Interrupt Autovector
      62/      70 :                     
      63/      70 : 0000 086E           	DC.L	DUMMY_H		; Level 4 Interrupt Autovector
      64/      74 : 0000 086E           	DC.L	DUMMY_H		; Level 5 Interrupt Autovector
      65/      78 : 0000 086E           	DC.L	DUMMY_H		; Level 6 Interrupt Autovector
      66/      7C : 0000 086E           	DC.L	DUMMY_H		; Level 7 Interrupt Autovector
      67/      80 :                     
      68/      80 :                     	;; 32-39
      69/      80 : 0000 09D2           	DC.L	TRAP0_H		; TRAP Instruction Vector #0
      70/      84 : 0000 09E8           	DC.L	TRAP1_H		; TRAP Instruction Vector #1
      71/      88 : 0000 09FE           	DC.L	TRAP2_H		; TRAP Instruction Vector #2
      72/      8C : 0000 0A14           	DC.L	TRAP3_H		; TRAP Instruction Vector #3
      73/      90 :                     
      74/      90 : 0000 0A2A           	DC.L	TRAP4_H		; TRAP Instruction Vector #4
      75/      94 : 0000 0A40           	DC.L	TRAP5_H		; TRAP Instruction Vector #5
      76/      98 : 0000 0A56           	DC.L	TRAP6_H		; TRAP Instruction Vector #6
      77/      9C : 0000 0A6C           	DC.L	TRAP7_H		; TRAP Instruction Vector #7
      78/      A0 :                     
      79/      A0 :                     	;; 40-47
      80/      A0 : 0000 0A82           	DC.L	TRAP8_H		; TRAP Instruction Vector #8
      81/      A4 : 0000 0A98           	DC.L	TRAP9_H		; TRAP Instruction Vector #9
      82/      A8 : 0000 0AAC           	DC.L	TRAP10_H	; TRAP Instruction Vector #10
      83/      AC : 0000 0AC0           	DC.L	TRAP11_H	; TRAP Instruction Vector #11
      84/      B0 :                     
      85/      B0 : 0000 0AD4           	DC.L	TRAP12_H	; TRAP Instruction Vector #12
      86/      B4 : 0000 0AE8           	DC.L	TRAP13_H	; TRAP Instruction Vector #13
      87/      B8 : 0000 0AFC           	DC.L	TRAP14_H	; TRAP Instruction Vector #14
      88/      BC : 0000 0B10           	DC.L	TRAP15_H	; TRAP Instruction Vector #15
      89/      C0 :                     
      90/      C0 :                     INIVECE:
      91/      C0 :                     
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 4 - 10/11/2023 20:38:14


      92/      C0 :                     CSTART:
      93/      C0 : 203C 0000 0001      	MOVE.L	#$00000001,D0	; [add] Set instruction cache enable
      94/      C6 : 4E7B 0002           	MOVEC	D0,CACR		; [add] at cache control register
      95/      CA :                     
      96/      CA : 6100 12FC           	BSR	INIT
      97/      CE :                     
      98/      CE : =>FALSE             	IF INIVEC <> $00000000
      99/      CE :                     	MOVE.L	#VECSIZ*4,D0
     100/      CE : =>TRUE              	ELSE
     101/      CE : 203C 0000 1402      	MOVE.L	#ROM_E,D0
     102/      D4 : [98]                	ENDIF
     103/      D4 : 23C0 0000 8618      	MOVE.L	D0,DSADDR
     104/      DA : 23C0 0000 8622      	MOVE.L	D0,GADDR
     105/      E0 : 23C0 0000 8626      	MOVE.L	D0,SADDR
     106/      E6 : 13FC 0053 0000      	MOVE.B	#'S',HEXMOD
               EC : 862A             
     107/      EE : 13FC 0000 0000      	MOVE.B	#MPU_SPEC,PSPEC
               F4 : 862C             
     108/      F6 :                     
     109/      F6 : =>FALSE             	IF INIVEC <> $00000000
     110/      F6 :                     	;; Initialize vector area
     111/      F6 :                     	MOVE.L	#INIVEC,A0
     112/      F6 :                     	MOVE.L	#$00000000,A1
     113/      F6 :                     	MOVE	#VECSIZ,D1
     114/      F6 :                     INI0:
     115/      F6 :                     	MOVE.L	(A0)+,(A1)+
     116/      F6 :                     	SUBQ	#1,D1
     117/      F6 :                     	BEQ	INI2
     118/      F6 :                     	CMP.L	INIVECE,A0
     119/      F6 :                     	BNE	INI0
     120/      F6 :                     	MOVE.L	#DUMMY_H,D0
     121/      F6 :                     INI1:
     122/      F6 :                     	MOVE.L	D0,(A1)+
     123/      F6 :                     	SUBQ.L	#1,D1
     124/      F6 :                     	BNE	INI1
     125/      F6 :                     INI2:
     126/      F6 : [109]               	ENDIF
     127/      F6 :                     
     128/      F6 : =>TRUE              	IF USE_REGCMD
     129/      F6 :                     
     130/      F6 :                     	;; Initialize register save area
     131/      F6 : 41F9 0000 8634      	LEA	REG_B,A0
     132/      FC : 303C 00A5           	MOVE	#(REG_E-REG_B)-1,D0
     133/     100 :                     INIR0:
     134/     100 : 4218                	CLR.B	(A0)+
     135/     102 : 51C8 FFFC           	DBF	D0,INIR0
     136/     106 : 23FC 0000 8FF0      	MOVE.L	#STACK,REGSSP
              10C : 0000 8678          
     137/     110 : 23F9 0000 8622      	MOVE.L	GADDR,REGPC
              116 : 0000 8634          
     138/     11A : 23FC 0000 8500      	MOVE.L	#USTACK,REGA7
              120 : 0000 8674          
     139/     124 :                     	
     140/     124 : [128]               	ENDIF
     141/     124 :                     
     142/     124 :                     	;; Opening message
     143/     124 : 41F8 0DAE           	LEA	OPNMSG,A0
     144/     128 : 6100 0606           	BSR	STROUT
     145/     12C :                     
     146/     12C : =>TRUE              	IF USE_IDENT
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 5 - 10/11/2023 20:38:14


     147/     12C :                     
     148/     12C : 41F8 0E11           	LEA	IM000,A0
     149/     130 :                     	SAVE
     150/     130 :                     	CPU	68010
     151/     130 : 4E7A 0801           ID0:	MOVEC	VBR,D0		; Try MC68010 instruction
     152/     134 : ALL                 	RESTORE
     153/     134 :                     
     154/     134 :                     	SAVE
     155/     134 :                     	CPU	68020
     156/     134 : 06F8 0000 0E3C      ID1:	CALLM	#0,MDESC	; Try MC68020 instruction
     157/     13A : ALL                 	RESTORE
     158/     13A : 41F8 0E25           	LEA	IM020,A0
     159/     13E : 13FC 0002 0000      	MOVE.B	#2,PSPEC
              144 : 862C             
     160/     146 : 6010                	BRA	ID9
     161/     148 :                     
     162/     148 :                     ID2:
     163/     148 :                     	SAVE
     164/     148 :                     	CPU	68030
     165/     148 : 4E7A 0002           ID3:	MOVEC	CACR,D0		; Try MC68020 instruction (since MC68020 already eliminated, this checks MC68030)
     166/     14C : ALL                 	RESTORE
     167/     14C : 41F8 0E2F           	LEA	IM030,A0
     168/     150 : 13FC 0003 0000      	MOVE.B	#3,PSPEC
              156 : 862C             
     169/     158 :                     
     170/     158 :                     ID9:
     171/     158 : 6100 05D6           	BSR	STROUT
     172/     15C :                     
     173/     15C : [146]               	ENDIF
     174/     15C :                     
     175/     15C :                     WSTART:
     176/     15C : 41F8 0DCA           	LEA	PROMPT,A0
     177/     160 : 6100 05CE           	BSR	STROUT
     178/     164 : 6100 064E           	BSR	GETLIN
     179/     168 : 41F9 0000 8600      	LEA	INBUF,A0
     180/     16E : 6100 06AE           	BSR	SKIPSP
     181/     172 : 1010                	MOVE.B	(A0),D0
     182/     174 : 6100 06B2           	BSR	UPPER
     183/     178 : 4A00                	TST.B	D0
     184/     17A : 67E0                	BEQ	WSTART
     185/     17C :                     
     186/     17C : B03C 0044           	CMP.B	#'D',D0
     187/     180 : 6732                	BEQ	DUMP
     188/     182 : B03C 0047           	CMP.B	#'G',D0
     189/     186 : 6700 016C           	BEQ	GO
     190/     18A : B03C 0053           	CMP.B	#'S',D0
     191/     18E : 6700 01DA           	BEQ	SETM
     192/     192 :                     
     193/     192 : B03C 004C           	CMP.B	#'L',D0
     194/     196 : 6700 025E           	BEQ	LOADH
     195/     19A : B03C 0050           	CMP.B	#'P',D0
     196/     19E : 6700 036E           	BEQ	SAVEH
     197/     1A2 :                     
     198/     1A2 : =>TRUE              	IF USE_REGCMD
     199/     1A2 : B03C 0052           	CMP.B	#'R',D0
     200/     1A6 : 6700 047E           	BEQ	REG
     201/     1AA : [198]               	ENDIF
     202/     1AA :                     
     203/     1AA :                     ERR:
     204/     1AA : 41F8 0DE7           	LEA	ERRMSG,A0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 6 - 10/11/2023 20:38:14


     205/     1AE : 6100 0580           	BSR	STROUT
     206/     1B2 : 60A8                	BRA	WSTART
     207/     1B4 :                     
     208/     1B4 :                     ;;;
     209/     1B4 :                     ;;; Dump memory
     210/     1B4 :                     ;;;
     211/     1B4 :                     
     212/     1B4 :                     DUMP:
     213/     1B4 : 5248                	ADDQ	#1,A0
     214/     1B6 : 6100 0666           	BSR	SKIPSP
     215/     1BA : 6100 067E           	BSR	RDHEX		; 1st arg.
     216/     1BE : 4A42                	TST	D2
     217/     1C0 : 661C                	BNE	DP0
     218/     1C2 :                     	;; No arg.
     219/     1C2 : 6100 065A           	BSR	SKIPSP
     220/     1C6 : 4A10                	TST.B	(A0)
     221/     1C8 : 66E0                	BNE	ERR
     222/     1CA : 2039 0000 8618      	MOVE.L	DSADDR,D0
     223/     1D0 : D0BC 0000 0080      	ADD.L	#128,D0
     224/     1D6 : 23C0 0000 861C      	MOVE.L	D0,DEADDR
     225/     1DC : 6040                	BRA	DPM
     226/     1DE :                     
     227/     1DE :                     	;; 1st arg. found
     228/     1DE :                     DP0:
     229/     1DE : 23C1 0000 8618      	MOVE.L	D1,DSADDR
     230/     1E4 : 6100 0638           	BSR	SKIPSP
     231/     1E8 : 0C10 002C           	CMP.B	#',',(A0)
     232/     1EC : 6712                	BEQ	DP1
     233/     1EE : 4A10                	TST.B	(A0)
     234/     1F0 : 66B8                	BNE	ERR
     235/     1F2 :                     	;; No 2nd arg.
     236/     1F2 : D2BC 0000 0080      	ADD.L	#128,D1
     237/     1F8 : 23C1 0000 861C      	MOVE.L	D1,DEADDR
     238/     1FE : 601E                	BRA	DPM
     239/     200 :                     
     240/     200 :                     DP1:
     241/     200 : 5248                	ADDQ	#1,A0
     242/     202 : 6100 061A           	BSR	SKIPSP
     243/     206 : 6100 0632           	BSR	RDHEX
     244/     20A : 6100 0612           	BSR	SKIPSP
     245/     20E : 4A42                	TST	D2
     246/     210 : 6798                	BEQ	ERR
     247/     212 : 4A10                	TST.B	(A0)
     248/     214 : 6694                	BNE	ERR
     249/     216 : 5281                	ADDQ.L	#1,D1
     250/     218 : 23C1 0000 861C      	MOVE.L	D1,DEADDR
     251/     21E :                     
     252/     21E :                     	;; DUMP main
     253/     21E :                     DPM:
     254/     21E : 2039 0000 8618      	MOVE.L	DSADDR,D0
     255/     224 : C03C 00F0           	AND.B	#$F0,D0
     256/     228 : 2240                	MOVE.L	D0,A1
     257/     22A : 4242                	CLR	D2		; DSTATE
     258/     22C :                     DPM0:
     259/     22C : 612A                	BSR	DPL
     260/     22E : 6100 11AE           	BSR	CONST
     261/     232 : 4A00                	TST.B	D0
     262/     234 : 6614                	BNE	DPM1
     263/     236 : B47C 0002           	CMP	#2,D2		; DSTATE
     264/     23A : 65F0                	BCS	DPM0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 7 - 10/11/2023 20:38:14


     265/     23C : 23F9 0000 861C      	MOVE.L	DEADDR,DSADDR
              242 : 0000 8618          
     266/     246 : 6000 FF14           	BRA	WSTART
     267/     24A :                     DPM1:
     268/     24A : 23C9 0000 8618      	MOVE.L	A1,DSADDR
     269/     250 : 6100 1178           	BSR	CONIN
     270/     254 : 6000 FF06           	BRA	WSTART
     271/     258 :                     
     272/     258 :                     	;; DUMP line
     273/     258 :                     DPL:
     274/     258 : 2009                	MOVE.L	A1,D0
     275/     25A : 6100 04E2           	BSR	HEXOUT8
     276/     25E : 41F8 0DEF           	LEA	DSEP0,A0
     277/     262 : 6100 04CC           	BSR	STROUT
     278/     266 : 45F9 0000 8600      	LEA	INBUF,A2
     279/     26C : 363C 000F           	MOVE	#15,D3
     280/     270 :                     DPL0:
     281/     270 : 613A                	BSR	DPB
     282/     272 : 51CB FFFC           	DBF	D3,DPL0
     283/     276 :                     
     284/     276 : 41F8 0DF2           	LEA	DSEP1,A0
     285/     27A : 6100 04B4           	BSR	STROUT
     286/     27E :                     
     287/     27E : 45F9 0000 8600      	LEA	INBUF,A2
     288/     284 : 363C 000F           	MOVE	#15,D3
     289/     288 :                     DPL1:
     290/     288 : 101A                	MOVE.B	(A2)+,D0
     291/     28A : B03C 0020           	CMP.B	#' ',D0
     292/     28E : 650C                	BCS	DPL2
     293/     290 : B03C 007F           	CMP.B	#$7F,D0
     294/     294 : 6406                	BCC	DPL2
     295/     296 : 6100 1152           	BSR	CONOUT
     296/     29A : 6008                	BRA	DPL3
     297/     29C :                     DPL2:
     298/     29C : 103C 002E           	MOVE.B	#'.',D0
     299/     2A0 : 6100 1148           	BSR	CONOUT
     300/     2A4 :                     DPL3:
     301/     2A4 : 51CB FFE2           	DBF	D3,DPL1
     302/     2A8 : 6000 04FA           	BRA	CRLF
     303/     2AC :                     
     304/     2AC :                     	;; DUMP byte
     305/     2AC :                     DPB:
     306/     2AC : 103C 0020           	MOVE.B	#' ',D0
     307/     2B0 : 6100 1138           	BSR	CONOUT
     308/     2B4 : 4A42                	TST	D2		; DSTATE
     309/     2B6 : 661E                	BNE	DPB2
     310/     2B8 :                     	;; Dump state 0
     311/     2B8 : B3F9 0000 8618      	CMP.L	DSADDR,A1
     312/     2BE : 6712                	BEQ	DPB1
     313/     2C0 :                     	;; Still 0 or 2
     314/     2C0 :                     DPB0:
     315/     2C0 : 103C 0020           	MOVE.B	#' ',D0
     316/     2C4 : 6100 1124           	BSR	CONOUT
     317/     2C8 : 6100 1120           	BSR	CONOUT
     318/     2CC : 14C0                	MOVE.B	D0,(A2)+
     319/     2CE : 5249                	ADDQ	#1,A1
     320/     2D0 : 4E75                	RTS
     321/     2D2 :                     	;; Found start address
     322/     2D2 :                     DPB1:
     323/     2D2 : 343C 0001           	MOVE	#1,D2		; DSTATE
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 8 - 10/11/2023 20:38:14


     324/     2D6 :                     DPB2:
     325/     2D6 : B47C 0001           	CMP	#1,D2		; DSTATE
     326/     2DA : 66E4                	BNE	DPB0
     327/     2DC :                     	;; Dump state 1
     328/     2DC : 1019                	MOVE.B	(A1)+,D0
     329/     2DE : 14C0                	MOVE.B	D0,(A2)+
     330/     2E0 : 6100 046C           	BSR	HEXOUT2
     331/     2E4 : B3F9 0000 861C      	CMP.L	DEADDR,A1
     332/     2EA : 6702                	BEQ	DPB3
     333/     2EC : 4E75                	RTS
     334/     2EE :                     	;; Found end address
     335/     2EE :                     DPB3:	
     336/     2EE : 343C 0002           	MOVE	#2,D2		; DSTATE
     337/     2F2 : 4E75                	RTS
     338/     2F4 :                     
     339/     2F4 :                     ;;;
     340/     2F4 :                     ;;; GO address
     341/     2F4 :                     ;;;
     342/     2F4 :                     
     343/     2F4 :                     GO:
     344/     2F4 : 5248                	ADDQ	#1,A0
     345/     2F6 : 6100 0526           	BSR	SKIPSP
     346/     2FA : 6100 053E           	BSR	RDHEX
     347/     2FE : 4A10                	TST.B	(A0)
     348/     300 : 6600 FEA8           	BNE	ERR
     349/     304 : 4A42                	TST	D2
     350/     306 : 6706                	BEQ	G0
     351/     308 :                     
     352/     308 : =>TRUE              	IF USE_REGCMD
     353/     308 :                     
     354/     308 : 23C1 0000 8634      	MOVE.L	D1,REGPC
     355/     30E :                     G0:
     356/     30E : 2039 0000 8678      	MOVE.L	REGSSP,D0
     357/     314 : C0BC FFFF FFFE      	AND.L	#$FFFFFFFE,D0
     358/     31A : 2E40                	MOVE.L	D0,A7
     359/     31C :                     
     360/     31C : 4A39 0000 862C      	TST.B	PSPEC
     361/     322 : 6728                	BEQ	G1
     362/     324 :                     
     363/     324 :                     	;; MC68010 only
     364/     324 :                     	SAVE
     365/     324 :                     	CPU	68010
     366/     324 :                     
     367/     324 : 3F3C 0000           	MOVE	#$0000,-(A7)	; Format / Dummy (Vector Offset)
     368/     328 :                     
     369/     328 : 2039 0000 867E      	MOVE.L	REGVBR,D0
     370/     32E : C0BC FFFF FFFE      	AND.L	#$FFFFFFFE,D0
     371/     334 : 4E7B 0801           	MOVEC	D0,VBR		; Be careful!
     372/     338 : 1039 0000 8682      	MOVE.B	REGSFC,D0
     373/     33E : 4E7B 0000           	MOVEC	D0,SFC
     374/     342 : 1039 0000 8683      	MOVE.B	REGDFC,D0
     375/     348 : 4E7B 0001           	MOVEC	D0,DFC
     376/     34C :                     	
     377/     34C : ALL                 	RESTORE
     378/     34C :                     G1:
     379/     34C : 2F39 0000 8634      	MOVE.L	REGPC,-(A7)
     380/     352 : 3F39 0000 867C      	MOVE	REGSR,-(A7)
     381/     358 :                     
     382/     358 : 2079 0000 8674      	MOVE.L	REGA7,A0
     383/     35E : 4E60                	MOVE	A0,USP
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 9 - 10/11/2023 20:38:14


     384/     360 :                     
     385/     360 : 4CF9 7FFF 0000      	MOVEM.L	REGD0,D0-D7/A0-A6
              366 : 8638             
     386/     368 :                     
     387/     368 : 4E73                	RTE
     388/     36A :                     	
     389/     36A : =>FALSE             	ELSE
     390/     36A :                     	
     391/     36A :                     	MOVE.L	D1,GADDR
     392/     36A :                     G0:
     393/     36A :                     	MOVE.L	GADDR,A0
     394/     36A :                     	JMP	(A0)
     395/     36A :                     
     396/     36A : [352]               	ENDIF
     397/     36A :                     
     398/     36A :                     ;;;
     399/     36A :                     ;;; SET memory
     400/     36A :                     ;;;
     401/     36A :                     
     402/     36A :                     SETM:
     403/     36A : 5248                	ADDQ	#1,A0
     404/     36C : 6100 04B0           	BSR	SKIPSP
     405/     370 : 6100 04C8           	BSR	RDHEX
     406/     374 : 6100 04A8           	BSR	SKIPSP
     407/     378 : 4A10                	TST.B	(A0)
     408/     37A : 6600 FE2E           	BNE	ERR
     409/     37E : 2241                	MOVE.L	D1,A1
     410/     380 : 4A42                	TST	D2
     411/     382 : 6606                	BNE	SM0
     412/     384 : 2279 0000 8626      	MOVE.L	SADDR,A1
     413/     38A :                     SM0:
     414/     38A :                     SM1:
     415/     38A : 2009                	MOVE.L	A1,D0
     416/     38C : 6100 03B0           	BSR	HEXOUT8
     417/     390 : 41F8 0DF2           	LEA	DSEP1,A0
     418/     394 : 6100 039A           	BSR	STROUT
     419/     398 : 1011                	MOVE.B	(A1),D0
     420/     39A : 6100 03B2           	BSR	HEXOUT2
     421/     39E : 103C 0020           	MOVE.B	#' ',D0
     422/     3A2 : 6100 1046           	BSR	CONOUT
     423/     3A6 : 6100 040C           	BSR	GETLIN
     424/     3AA : 41F9 0000 8600      	LEA	INBUF,A0
     425/     3B0 : 6100 046C           	BSR	SKIPSP
     426/     3B4 : 1010                	MOVE.B	(A0),D0
     427/     3B6 : 660A                	BNE	SM2
     428/     3B8 :                     	;; Empty (Increment address)
     429/     3B8 : 5249                	ADDQ	#1,A1
     430/     3BA : 23C9 0000 8626      	MOVE.L	A1,SADDR
     431/     3C0 : 60C8                	BRA	SM1
     432/     3C2 :                     SM2:
     433/     3C2 : B03C 002D           	CMP.B	#'-',D0
     434/     3C6 : 660A                	BNE	SM3
     435/     3C8 :                     	;; '-' (Decrement address)
     436/     3C8 : 5349                	SUBQ	#1,A1
     437/     3CA : 23C9 0000 8626      	MOVE.L	A1,SADDR
     438/     3D0 : 60B8                	BRA	SM1
     439/     3D2 :                     SM3:
     440/     3D2 : B03C 002E           	CMP.B	#'.',D0
     441/     3D6 : 660A                	BNE	SM4
     442/     3D8 :                     	;; '.' (Quit)
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 10 - 10/11/2023 20:38:14


     443/     3D8 : 23C9 0000 8626      	MOVE.L	A1,SADDR
     444/     3DE : 6000 FD7C           	BRA	WSTART
     445/     3E2 :                     SM4:
     446/     3E2 : 6100 0456           	BSR	RDHEX
     447/     3E6 : 4A42                	TST	D2
     448/     3E8 : 6700 FDC0           	BEQ	ERR
     449/     3EC : 12C1                	MOVE.B	D1,(A1)+
     450/     3EE : 23C9 0000 8626      	MOVE.L	A1,SADDR
     451/     3F4 : 6094                	BRA	SM1
     452/     3F6 :                     
     453/     3F6 :                     ;;;
     454/     3F6 :                     ;;; LOAD HEX file
     455/     3F6 :                     ;;;
     456/     3F6 :                     
     457/     3F6 :                     LOADH:
     458/     3F6 : 5248                	ADDQ	#1,A0
     459/     3F8 : 6100 0424           	BSR	SKIPSP
     460/     3FC : 6100 043C           	BSR	RDHEX
     461/     400 : 6100 041C           	BSR	SKIPSP
     462/     404 : 4A10                	TST.B	(A0)
     463/     406 : 6600 FDA2           	BNE	ERR
     464/     40A :                     
     465/     40A : 4A42                	TST	D2
     466/     40C : 6602                	BNE	LH0
     467/     40E :                     
     468/     40E : 4281                	CLR.L	D1		; Offset
     469/     410 :                     LH0:
     470/     410 : 6100 0FB8           	BSR	CONIN
     471/     414 : 6100 0412           	BSR	UPPER
     472/     418 : B03C 0053           	CMP.B	#'S',D0
     473/     41C : 6700 0082           	BEQ	LHS0
     474/     420 :                     LH1:
     475/     420 : B03C 003A           	CMP.B	#':',D0
     476/     424 : 6712                	BEQ	LHI0
     477/     426 :                     	;; Skip to EOL
     478/     426 :                     LH2:
     479/     426 : B03C 000D           	CMP.B	#CR,D0
     480/     42A : 67E4                	BEQ	LH0
     481/     42C : B03C 000A           	CMP.B	#LF,D0
     482/     430 : 67DE                	BEQ	LH0
     483/     432 :                     LH3:
     484/     432 : 6100 0F96           	BSR	CONIN
     485/     436 : 60EE                	BRA	LH2
     486/     438 :                     
     487/     438 :                     	;; Intel HEX
     488/     438 :                     LHI0:
     489/     438 : 6100 0334           	BSR	HEXIN
     490/     43C : 4242                	CLR	D2
     491/     43E : 1400                	MOVE.B	D0,D2		; Length
     492/     440 : 1600                	MOVE.B	D0,D3		; Checksum
     493/     442 :                     
     494/     442 : 6100 032A           	BSR	HEXIN
     495/     446 : 4284                	CLR.L	D4
     496/     448 : 1800                	MOVE.B	D0,D4		; Address H
     497/     44A : D600                	ADD.B	D0,D3		; Checksum
     498/     44C :                     
     499/     44C : 6100 0320           	BSR	HEXIN
     500/     450 : E14C                	LSL	#8,D4
     501/     452 : 1800                	MOVE.B	D0,D4		; Address L
     502/     454 : D600                	ADD.B	D0,D3		; Checksum
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 11 - 10/11/2023 20:38:14


     503/     456 :                     
     504/     456 :                     	;; Add offset
     505/     456 : D881                	ADD.L	D1,D4
     506/     458 : 2244                	MOVE.L	D4,A1
     507/     45A :                     
     508/     45A : 6100 0312           	BSR	HEXIN
     509/     45E : 13C0 0000 862B      	MOVE.B	D0,RECTYP
     510/     464 : D600                	ADD.B	D0,D3		; Checksum
     511/     466 :                     
     512/     466 : 4A42                	TST	D2
     513/     468 : 6716                	BEQ	LHI3
     514/     46A : 5342                	SUBQ	#1,D2
     515/     46C :                     LHI1:
     516/     46C : 6100 0300           	BSR	HEXIN
     517/     470 : D600                	ADD.B	D0,D3		; Checksum
     518/     472 :                     
     519/     472 : 4A39 0000 862B      	TST.B	RECTYP
     520/     478 : 6602                	BNE	LHI2
     521/     47A :                     
     522/     47A : 12C0                	MOVE.B	D0,(A1)+
     523/     47C :                     LHI2:
     524/     47C : 51CA FFEE           	DBF	D2,LHI1
     525/     480 :                     LHI3:
     526/     480 : 6100 02EC           	BSR	HEXIN
     527/     484 : D600                	ADD.B	D0,D3		; Checksum
     528/     486 : 660C                	BNE	LHIE		; Checksum error
     529/     488 : 4A39 0000 862B      	TST.B	RECTYP
     530/     48E : 67A2                	BEQ	LH3
     531/     490 : 6000 FCCA           	BRA	WSTART
     532/     494 :                     LHIE:
     533/     494 : 41F8 0DCD           	LEA	IHEMSG,A0
     534/     498 : 6100 0296           	BSR	STROUT
     535/     49C : 6000 FCBE           	BRA	WSTART
     536/     4A0 :                     
     537/     4A0 :                     	;; Motorola S record
     538/     4A0 :                     LHS0:
     539/     4A0 : 6100 0F28           	BSR	CONIN
     540/     4A4 : 13C0 0000 862B      	MOVE.B	D0,RECTYP
     541/     4AA :                     
     542/     4AA : 6100 02C2           	BSR	HEXIN
     543/     4AE : 4242                	CLR	D2
     544/     4B0 : 1400                	MOVE.B	D0,D2		; Length+3
     545/     4B2 : 1600                	MOVE.B	D0,D3		; Checksum
     546/     4B4 :                     
     547/     4B4 : 6100 02B8           	BSR	HEXIN
     548/     4B8 : 4284                	CLR.L	D4
     549/     4BA : 1800                	MOVE.B	D0,D4		; Address H
     550/     4BC : D600                	ADD.B	D0,D3		; Checksum
     551/     4BE :                     
     552/     4BE : 6100 02AE           	BSR	HEXIN
     553/     4C2 : E18C                	LSL.L	#8,D4
     554/     4C4 : 1800                	MOVE.B	D0,D4		; Address L
     555/     4C6 : D600                	ADD.B	D0,D3		; Checksum
     556/     4C8 :                     
     557/     4C8 :                     	;; Add offset
     558/     4C8 : D881                	ADD.L	D1,D4
     559/     4CA : 2244                	MOVE.L	D4,A1
     560/     4CC :                     
     561/     4CC : 5742                	SUBQ	#3,D2
     562/     4CE : 6718                	BEQ	LHS3
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 12 - 10/11/2023 20:38:14


     563/     4D0 : 5342                	SUBQ	#1,D2
     564/     4D2 :                     LHS1:
     565/     4D2 : 6100 029A           	BSR	HEXIN
     566/     4D6 : D600                	ADD.B	D0,D3		; Checksum
     567/     4D8 :                     
     568/     4D8 : 0C39 0031 0000      	CMP.B	#'1',RECTYP
              4DE : 862B             
     569/     4E0 : 6602                	BNE	LHS2
     570/     4E2 :                     
     571/     4E2 : 12C0                	MOVE.B	D0,(A1)+
     572/     4E4 :                     LHS2:
     573/     4E4 : 51CA FFEC           	DBF	D2,LHS1
     574/     4E8 :                     LHS3:
     575/     4E8 : 6100 0284           	BSR	HEXIN
     576/     4EC : D600                	ADD.B	D0,D3		; Checksum
     577/     4EE : B63C 00FF           	CMP.B	#$FF,D3
     578/     4F2 : 660E                	BNE	LHSE		; Checksum error
     579/     4F4 :                     
     580/     4F4 : 0C39 0039 0000      	CMP.B	#'9',RECTYP
              4FA : 862B             
     581/     4FC : 670C                	BEQ	LHSR
     582/     4FE : 6000 FF32           	BRA	LH3
     583/     502 :                     LHSE:
     584/     502 : 41F8 0DDA           	LEA	SHEMSG,A0
     585/     506 : 6100 0228           	BSR	STROUT
     586/     50A :                     LHSR:
     587/     50A : 6000 FC50           	BRA	WSTART
     588/     50E :                     
     589/     50E :                     ;;;
     590/     50E :                     ;;;  SAVE HEX file
     591/     50E :                     ;;;
     592/     50E :                     
     593/     50E :                     SAVEH:
     594/     50E : 5248                	ADDQ	#1,A0
     595/     510 : 1010                	MOVE.B	(A0),D0
     596/     512 : 6100 0314           	BSR	UPPER
     597/     516 : B03C 0049           	CMP.B	#'I',D0
     598/     51A : 6706                	BEQ	SH0
     599/     51C : B03C 0053           	CMP.B	#'S',D0
     600/     520 : 6608                	BNE	SH1
     601/     522 :                     SH0:
     602/     522 : 5248                	ADDQ	#1,A0
     603/     524 : 13C0 0000 862A      	MOVE.B	D0,HEXMOD
     604/     52A :                     SH1:
     605/     52A : 6100 02F2           	BSR	SKIPSP
     606/     52E : 6100 030A           	BSR	RDHEX
     607/     532 : 4A42                	TST	D2
     608/     534 : 6700 FC74           	BEQ	ERR
     609/     538 : 2241                	MOVE.L	D1,A1		; Start address
     610/     53A : 6100 02E2           	BSR	SKIPSP
     611/     53E : 0C18 002C           	CMP.B	#',',(A0)+
     612/     542 : 6600 FC66           	BNE	ERR
     613/     546 : 6100 02D6           	BSR	SKIPSP
     614/     54A : 6100 02EE           	BSR	RDHEX		; D1 = End address
     615/     54E : 4A42                	TST	D2
     616/     550 : 6700 FC58           	BEQ	ERR
     617/     554 : 6100 02C8           	BSR	SKIPSP
     618/     558 : 4A10                	TST.B	(A0)
     619/     55A : 6600 FC4E           	BNE	ERR
     620/     55E :                     
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 13 - 10/11/2023 20:38:14


     621/     55E :                     SH2:
     622/     55E : 9289                	SUB.L	A1,D1
     623/     560 : 5241                	ADDQ	#1,D1		; D1 = Length
     624/     562 :                     SH3:
     625/     562 : 6126                	BSR	SHL
     626/     564 : 4A81                	TST.L	D1
     627/     566 : 66FA                	BNE	SH3
     628/     568 :                     
     629/     568 : 0C39 0049 0000      	CMP.B	#'I',HEXMOD
              56E : 862A             
     630/     570 : 660C                	BNE	SH4
     631/     572 :                     	;; End record for Intel HEX
     632/     572 : 41F8 0DF6           	LEA	IHEXER,A0
     633/     576 : 6100 01B8           	BSR	STROUT
     634/     57A : 6000 FBE0           	BRA	WSTART
     635/     57E :                     	;; End record for Motorola S record
     636/     57E :                     SH4:
     637/     57E : 41F8 0E04           	LEA	SRECER,A0
     638/     582 : 6100 01AC           	BSR	STROUT
     639/     586 : 6000 FBD4           	BRA	WSTART
     640/     58A :                     
     641/     58A :                     SHL:
     642/     58A : 7410                	MOVEQ.L	#16,D2
     643/     58C : B282                	CMP.L	D2,D1
     644/     58E : 6402                	BCC	SHL0
     645/     590 : 2401                	MOVE.L	D1,D2
     646/     592 :                     SHL0:
     647/     592 : 9282                	SUB.L	D2,D1		; D1 = remain
     648/     594 :                     
     649/     594 : 0C39 0049 0000      	CMP.B	#'I',HEXMOD
              59A : 862A             
     650/     59C : 6642                	BNE	SHLS
     651/     59E :                     
     652/     59E :                     	;; Intel HEX
     653/     59E : 103C 003A           	MOVE.B	#':',D0
     654/     5A2 : 6100 0E46           	BSR	CONOUT
     655/     5A6 :                     
     656/     5A6 : 1002                	MOVE.B	D2,D0
     657/     5A8 : 1602                	MOVE.B	D2,D3		; Checksum
     658/     5AA : 6100 01A2           	BSR	HEXOUT2		; Length
     659/     5AE :                     
     660/     5AE : 2009                	MOVE.L	A1,D0
     661/     5B0 : E048                	LSR	#8,D0
     662/     5B2 : D600                	ADD.B	D0,D3		; Checksum
     663/     5B4 : 6100 0198           	BSR	HEXOUT2		; Address H
     664/     5B8 :                     
     665/     5B8 : 2009                	MOVE.L	A1,D0
     666/     5BA : D600                	ADD.B	D0,D3		; Checksum
     667/     5BC : 6100 0190           	BSR	HEXOUT2		; Address L
     668/     5C0 :                     
     669/     5C0 : 4200                	CLR.B	D0
     670/     5C2 : 6100 018A           	BSR	HEXOUT2		; Record type
     671/     5C6 :                     
     672/     5C6 : 5342                	SUBQ	#1,D2
     673/     5C8 :                     SHLI0:
     674/     5C8 : 1019                	MOVE.B	(A1)+,D0
     675/     5CA : D600                	ADD.B	D0,D3		; Checksum
     676/     5CC : 6100 0180           	BSR	HEXOUT2
     677/     5D0 :                     
     678/     5D0 : 51CA FFF6           	DBF	D2,SHLI0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 14 - 10/11/2023 20:38:14


     679/     5D4 :                     
     680/     5D4 : 1003                	MOVE.B	D3,D0
     681/     5D6 : 4400                	NEG.B	D0
     682/     5D8 : 6100 0174           	BSR	HEXOUT2		; Checksum
     683/     5DC : 6000 01C6           	BRA	CRLF
     684/     5E0 :                     
     685/     5E0 :                     	;; Motorola S record
     686/     5E0 :                     SHLS:	
     687/     5E0 : 103C 0053           	MOVE.B	#'S',D0
     688/     5E4 : 6100 0E04           	BSR	CONOUT
     689/     5E8 : 103C 0031           	MOVE.B	#'1',D0
     690/     5EC : 6100 0DFC           	BSR	CONOUT
     691/     5F0 :                     
     692/     5F0 : 1002                	MOVE.B	D2,D0
     693/     5F2 : 5600                	ADDQ.B	#2+1,D0		; DataLength + 2(Addr) + 1(Sum)
     694/     5F4 : 1600                	MOVE.B	D0,D3		; Checksum
     695/     5F6 : 6100 0156           	BSR	HEXOUT2		; Length
     696/     5FA :                     
     697/     5FA : 2009                	MOVE.L	A1,D0
     698/     5FC : E088                	LSR.L	#8,D0
     699/     5FE : D600                	ADD.B	D0,D3		; Checksum
     700/     600 : 6100 014C           	BSR	HEXOUT2		; Address H
     701/     604 :                     
     702/     604 : 2009                	MOVE.L	A1,D0
     703/     606 : D600                	ADD.B	D0,D3		; Checksum
     704/     608 : 6100 0144           	BSR	HEXOUT2		; Address L
     705/     60C :                     
     706/     60C : 5342                	SUBQ	#1,D2
     707/     60E :                     SHLS0:
     708/     60E : 1019                	MOVE.B	(A1)+,D0
     709/     610 : D600                	ADD.B	D0,D3		; Checksum
     710/     612 : 6100 013A           	BSR	HEXOUT2		; Data
     711/     616 :                     
     712/     616 : 51CA FFF6           	DBF	D2,SHLS0
     713/     61A :                     
     714/     61A : 1003                	MOVE.B	D3,D0
     715/     61C : 4600                	NOT.B	D0
     716/     61E : 6100 012E           	BSR	HEXOUT2
     717/     622 : 6000 0180           	BRA	CRLF
     718/     626 :                     
     719/     626 :                     ;;;
     720/     626 :                     ;;; Register
     721/     626 :                     ;;;
     722/     626 : =>TRUE              	IF USE_REGCMD
     723/     626 :                     
     724/     626 :                     REG:
     725/     626 : 5248                	ADDQ	#1,A0
     726/     628 : 6100 01F4           	BSR	SKIPSP
     727/     62C : 1010                	MOVE.B	(A0),D0
     728/     62E : 6100 01F8           	BSR	UPPER
     729/     632 : 4A00                	TST.B	D0
     730/     634 : 6608                	BNE	RG0
     731/     636 : 6100 00BA           	BSR	RDUMP
     732/     63A : 6000 FB20           	BRA	WSTART
     733/     63E :                     RG0:
     734/     63E : 43F8 1098           	LEA	RNTAB,A1
     735/     642 :                     RG1:
     736/     642 : B011                	CMP.B	(A1),D0
     737/     644 : 6710                	BEQ	RG2		; Character match
     738/     646 : 4A29 0001           	TST.B	1(A1)
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 15 - 10/11/2023 20:38:14


     739/     64A : 6700 00A2           	BEQ	RGE
     740/     64E : D3FC 0000 000A      	ADD.L	#10,A1
     741/     654 : 60EC                	BRA	RG1
     742/     656 :                     RG2:
     743/     656 : 0C29 000F 0001      	CMP.B	#$0F,1(A1)
     744/     65C : 660E                	BNE	RG3
     745/     65E :                     	;; Next table
     746/     65E : 2269 0002           	MOVE.L	2(A1),A1
     747/     662 : 5248                	ADDQ	#1,A0
     748/     664 : 1010                	MOVE.B	(A0),D0
     749/     666 : 6100 01C0           	BSR	UPPER
     750/     66A : 60D6                	BRA	RG1
     751/     66C :                     RG3:	
     752/     66C : 1629 0001           	MOVE.B	1(A1),D3
     753/     670 : 677C                	BEQ	RGE		; Found end mark
     754/     672 : 6A08                	BPL	RG30
     755/     674 :                     	;; Check MC68010
     756/     674 : 4A39 0000 862C      	TST.B	PSPEC
     757/     67A : 6772                	BEQ	RGE
     758/     67C :                     RG30:
     759/     67C : 2069 0006           	MOVE.L	6(A1),A0
     760/     680 : 6100 00AE           	BSR	STROUT
     761/     684 : 103C 003D           	MOVE.B	#'=',D0
     762/     688 : 6100 0D60           	BSR	CONOUT
     763/     68C : 2469 0002           	MOVE.L	2(A1),A2
     764/     690 : C63C 0007           	AND.B	#$07,D3
     765/     694 : B63C 0001           	CMP.B	#1,D3
     766/     698 : 6608                	BNE	RG4
     767/     69A :                     	;; 8 bit register
     768/     69A : 1012                	MOVE.B	(A2),D0
     769/     69C : 6100 00B0           	BSR	HEXOUT2
     770/     6A0 : 6014                	BRA	RG6
     771/     6A2 :                     RG4:
     772/     6A2 : B63C 0002           	CMP.B	#2,D3
     773/     6A6 : 6608                	BNE	RG5
     774/     6A8 :                     	;; 16 bit register
     775/     6A8 : 3012                	MOVE	(A2),D0
     776/     6AA : 6100 009A           	BSR	HEXOUT4
     777/     6AE : 6006                	BRA	RG6
     778/     6B0 :                     RG5:
     779/     6B0 :                     	;; 32 bit register
     780/     6B0 : 2012                	MOVE.L	(A2),D0
     781/     6B2 : 6100 008A           	BSR	HEXOUT8
     782/     6B6 :                     RG6:
     783/     6B6 : 103C 0020           	MOVE.B	#' ',D0
     784/     6BA : 6100 0D2E           	BSR	CONOUT
     785/     6BE : 6100 00F4           	BSR	GETLIN
     786/     6C2 : 41F9 0000 8600      	LEA	INBUF,A0
     787/     6C8 : 6100 0154           	BSR	SKIPSP
     788/     6CC : 6100 016C           	BSR	RDHEX
     789/     6D0 : 4A42                	TST	D2
     790/     6D2 : 6716                	BEQ	RGR
     791/     6D4 : B63C 0001           	CMP.B	#1,D3
     792/     6D8 : 6604                	BNE	RG7
     793/     6DA :                     	;; 8 bit register
     794/     6DA : 1481                	MOVE.B	D1,(A2)
     795/     6DC : 600C                	BRA	RG9
     796/     6DE :                     RG7:
     797/     6DE : B63C 0002           	CMP.B	#2,D3
     798/     6E2 : 6604                	BNE	RG8
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 16 - 10/11/2023 20:38:14


     799/     6E4 :                     	;; 16 bit register
     800/     6E4 : 3481                	MOVE	D1,(A2)
     801/     6E6 : 6002                	BRA	RG9
     802/     6E8 :                     RG8:
     803/     6E8 :                     	;; 32 bit register
     804/     6E8 : 2481                	MOVE.L	D1,(A2)
     805/     6EA :                     RG9:
     806/     6EA :                     RGR:
     807/     6EA : 6000 FA70           	BRA	WSTART
     808/     6EE :                     RGE:
     809/     6EE : 6000 FABA           	BRA	ERR
     810/     6F2 :                     	
     811/     6F2 :                     RDUMP:
     812/     6F2 : 43F8 0F80           	LEA	RDTAB,A1
     813/     6F6 :                     RD0:
     814/     6F6 : 3219                	MOVE	(A1)+,D1	; Flag
     815/     6F8 : 6700 00AA           	BEQ	CRLF		; Found END mark => CR,LF and return
     816/     6FC : 6A0A                	BPL	RD00
     817/     6FE : 4A39 0000 862C      	TST.B	PSPEC
     818/     704 : 6700 009E           	BEQ	CRLF		; 
     819/     708 :                     RD00:	
     820/     708 : 2059                	MOVE.L	(A1)+,A0	; String address
     821/     70A : 6124                	BSR	STROUT
     822/     70C : 2059                	MOVE.L	(A1)+,A0	; Register save area
     823/     70E : C27C 0003           	AND	#$0003,D1
     824/     712 : B27C 0001           	CMP	#1,D1
     825/     716 : 6606                	BNE	RD1
     826/     718 :                     	;; BYTE size
     827/     718 : 1010                	MOVE.B	(A0),D0
     828/     71A : 6132                	BSR	HEXOUT2
     829/     71C : 60D8                	BRA	RD0
     830/     71E :                     RD1:
     831/     71E : B27C 0002           	CMP	#2,D1
     832/     722 : 6606                	BNE	RD2
     833/     724 :                     	;; WORD size
     834/     724 : 3010                	MOVE	(A0),D0
     835/     726 : 611E                	BSR	HEXOUT4
     836/     728 : 60CC                	BRA	RD0
     837/     72A :                     RD2:
     838/     72A :                     	;; LONG size
     839/     72A : 2010                	MOVE.L	(A0),D0
     840/     72C : 6110                	BSR	HEXOUT8
     841/     72E : 60C6                	BRA	RD0
     842/     730 :                     
     843/     730 : [722]               	ENDIF
     844/     730 :                     
     845/     730 :                     ;;;
     846/     730 :                     ;;; Other support routines
     847/     730 :                     ;;;
     848/     730 :                     
     849/     730 :                     STROUT:
     850/     730 : 1018                	MOVE.B	(A0)+,D0
     851/     732 : 4A00                	TST.B	D0
     852/     734 : 6706                	BEQ	STROE
     853/     736 : 6100 0CB2           	BSR	CONOUT
     854/     73A : 60F4                	BRA	STROUT
     855/     73C :                     STROE:
     856/     73C : 4E75                	RTS
     857/     73E :                     
     858/     73E :                     HEXOUT8:
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 17 - 10/11/2023 20:38:14


     859/     73E : 2F00                	MOVE.L	D0,-(A7)
     860/     740 : 4840                	SWAP	D0
     861/     742 : 6102                	BSR	HEXOUT4
     862/     744 : 201F                	MOVE.L	(A7)+,D0
     863/     746 :                     HEXOUT4:
     864/     746 : 2F00                	MOVE.L	D0,-(A7)
     865/     748 : E058                	ROR	#8,D0
     866/     74A : 6102                	BSR	HEXOUT2
     867/     74C : 201F                	MOVE.L	(A7)+,D0
     868/     74E :                     HEXOUT2:
     869/     74E : 2F00                	MOVE.L	D0,-(A7)
     870/     750 : E818                	ROR.B	#4,D0
     871/     752 : 6102                	BSR	HEXOUT1
     872/     754 : 201F                	MOVE.L	(A7)+,D0
     873/     756 :                     HEXOUT1:
     874/     756 : C03C 000F           	AND.B	#$0F,D0
     875/     75A : D03C 0030           	ADD.B	#'0',D0
     876/     75E : B03C 003A           	CMP.B	#'9'+1,D0
     877/     762 : 6500 0C86           	BCS	CONOUT
     878/     766 : D07C 0007           	ADD	#'A'-'9'-1,D0
     879/     76A : 6000 0C7E           	BRA	CONOUT
     880/     76E :                     
     881/     76E :                     HEXIN:
     882/     76E : 4200                	CLR.B	D0
     883/     770 : 6102                	BSR	HI0
     884/     772 : E908                	LSL.B	#4,D0
     885/     774 :                     HI0:
     886/     774 : 3F00                	MOVE	D0,-(A7)
     887/     776 : 6100 0C52           	BSR	CONIN
     888/     77A : 6100 00AC           	BSR	UPPER
     889/     77E : B03C 0030           	CMP.B	#'0',D0
     890/     782 : 651C                	BCS	HIR
     891/     784 : B03C 003A           	CMP.B	#'9'+1,D0
     892/     788 : 6510                	BCS	HI1
     893/     78A : B03C 0041           	CMP.B	#'A',D0
     894/     78E : 6510                	BCS	HIR
     895/     790 : B03C 0047           	CMP.B	#'F'+1,D0
     896/     794 : 640A                	BCC	HIR
     897/     796 : 903C 0007           	SUB.B	#'A'-'9'-1,D0
     898/     79A :                     HI1:
     899/     79A : 903C 0030           	SUB.B	#'0',D0
     900/     79E : 8057                	OR	(A7),D0
     901/     7A0 :                     HIR:
     902/     7A0 : 544F                	ADDQ	#2,A7
     903/     7A2 : 4E75                	RTS
     904/     7A4 :                     
     905/     7A4 :                     CRLF:
     906/     7A4 : 103C 000D           	MOVE.B	#CR,D0
     907/     7A8 : 6100 0C40           	BSR	CONOUT
     908/     7AC : 103C 000A           	MOVE.B	#LF,D0
     909/     7B0 : 6000 0C38           	BRA	CONOUT
     910/     7B4 :                     
     911/     7B4 :                     GETLIN:
     912/     7B4 : 41F9 0000 8600      	LEA	INBUF,A0
     913/     7BA : 4201                	CLR.B	D1
     914/     7BC :                     GL0:
     915/     7BC : 6100 0C0C           	BSR	CONIN
     916/     7C0 : B03C 000D           	CMP.B	#CR,D0
     917/     7C4 : 6750                	BEQ	GLE
     918/     7C6 : B03C 000A           	CMP.B	#LF,D0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 18 - 10/11/2023 20:38:14


     919/     7CA : 674A                	BEQ	GLE
     920/     7CC : B03C 0008           	CMP.B	#BS,D0
     921/     7D0 : 6722                	BEQ	GLB
     922/     7D2 : B03C 007F           	CMP.B	#DEL,D0
     923/     7D6 : 671C                	BEQ	GLB
     924/     7D8 : B03C 0020           	CMP.B	#' ',D0
     925/     7DC : 65DE                	BCS	GL0
     926/     7DE : B03C 0080           	CMP.B	#$80,D0
     927/     7E2 : 64D8                	BCC	GL0
     928/     7E4 : B23C 0017           	CMP.B	#BUFLEN-1,D1
     929/     7E8 : 64D2                	BCC	GL0		; Too long
     930/     7EA : 5201                	ADDQ.B	#1,D1
     931/     7EC : 10C0                	MOVE.B	D0,(A0)+
     932/     7EE : 6100 0BFA           	BSR	CONOUT
     933/     7F2 : 60C8                	BRA	GL0
     934/     7F4 :                     GLB:
     935/     7F4 : 4A01                	TST.B	D1
     936/     7F6 : 67C4                	BEQ	GL0
     937/     7F8 : 5388                	SUBQ.L	#1,A0
     938/     7FA : 5301                	SUBQ.B	#1,D1
     939/     7FC : 103C 0008           	MOVE.B	#BS,D0
     940/     800 : 6100 0BE8           	BSR	CONOUT
     941/     804 : 103C 0020           	MOVE.B	#' ',D0
     942/     808 : 6100 0BE0           	BSR	CONOUT
     943/     80C : 103C 0008           	MOVE.B	#BS,D0
     944/     810 : 6100 0BD8           	BSR	CONOUT
     945/     814 : 60A6                	BRA	GL0
     946/     816 :                     GLE:
     947/     816 : 618C                	BSR	CRLF
     948/     818 : 10BC 0000           	MOVE.B	#$00,(A0)
     949/     81C : 4E75                	RTS
     950/     81E :                     
     951/     81E :                     SKIPSP:
     952/     81E : 0C18 0020           	CMP.B	#' ',(A0)+
     953/     822 : 67FA                	BEQ	SKIPSP
     954/     824 : 5388                	SUBQ.L	#1,A0
     955/     826 : 4E75                	RTS
     956/     828 :                     
     957/     828 :                     UPPER:
     958/     828 : B03C 0061           	CMP.B	#'a',D0
     959/     82C : 650A                	BCS	UPR
     960/     82E : B03C 007B           	CMP.B	#'z'+1,D0
     961/     832 : 6404                	BCC	UPR
     962/     834 : D03C 00E0           	ADD.B	#'A'-'a',D0
     963/     838 :                     UPR:
     964/     838 : 4E75                	RTS
     965/     83A :                     
     966/     83A :                     RDHEX:
     967/     83A : 4242                	CLR	D2		; Count
     968/     83C : 4281                	CLR.L	D1		; Value
     969/     83E :                     RH0:
     970/     83E : 1010                	MOVE.B	(A0),D0
     971/     840 : 61E6                	BSR	UPPER
     972/     842 : B03C 0030           	CMP.B	#'0',D0
     973/     846 : 6524                	BCS	RHE
     974/     848 : B03C 003A           	CMP.B	#'9'+1,D0
     975/     84C : 6510                	BCS	RH1
     976/     84E : B03C 0041           	CMP.B	#'A',D0
     977/     852 : 6518                	BCS	RHE
     978/     854 : B03C 0047           	CMP.B	#'F'+1,D0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 19 - 10/11/2023 20:38:14


     979/     858 : 6412                	BCC	RHE
     980/     85A : 903C 0007           	SUB.B	#'A'-'9'-1,D0
     981/     85E :                     RH1:
     982/     85E : 903C 0030           	SUB.B	#'0',D0
     983/     862 : E989                	LSL.L	#4,D1
     984/     864 : 8200                	OR.B	D0,D1
     985/     866 : 5248                	ADDQ	#1,A0
     986/     868 : 5242                	ADDQ	#1,D2
     987/     86A : 60D2                	BRA	RH0
     988/     86C :                     RHE:
     989/     86C : 4E75                	RTS
     990/     86E :                     
     991/     86E :                     ;;;
     992/     86E :                     ;;; Exception Handler
     993/     86E :                     ;;;
     994/     86E :                     
     995/     86E :                     	;; Dummy
     996/     86E :                     DUMMY_H:
     997/     86E : 4E73                	RTE
     998/     870 :                     
     999/     870 :                     	;; 02 Bus Error
    1000/     870 :                     BUSERR_H:
    1001/     870 : 23FC 0000 0E4C      	MOVE.L	#BUSERR_M,EXMSG
              876 : 0000 862E          
    1002/     87A : 4279 0000 8632      	CLR	EXGRP		; Exception Group 0
    1003/     880 :                     
    1004/     880 : 6000 02A2           	BRA	COMM_H
    1005/     884 :                     
    1006/     884 :                     	;; 03 Address Error
    1007/     884 :                     ADDERR_H:
    1008/     884 : 23FC 0000 0E56      	MOVE.L	#ADDERR_M,EXMSG
              88A : 0000 862E          
    1009/     88E : 4279 0000 8632      	CLR	EXGRP		; Exception Group 0
    1010/     894 :                     
    1011/     894 : 6000 028E           	BRA	COMM_H
    1012/     898 :                     
    1013/     898 :                     	;; 04 Illegal Instruction
    1014/     898 :                     ILLINS_H:
    1015/     898 :                     	;; Check IDENT
    1016/     898 : =>TRUE              	IF USE_IDENT
    1017/     898 :                     
    1018/     898 : 0CAF 0000 0130      	CMP.L	#ID0,2(A7)	; Check PC on system stack
              89E : 0002             
    1019/     8A0 : 660C                	BNE	ILLINS0		; PC is not IDENT routine
    1020/     8A2 :                     
    1021/     8A2 :                     	;; MOVEC VBR,D0 caused error ==> MC68000 or MC68008
    1022/     8A2 : 5C4F                	ADDQ	#6,A7		; Drop stack frame (MC68000 format)
    1023/     8A4 : 4239 0000 862C      	CLR.B	PSPEC
    1024/     8AA : 6000 F8AC           	BRA	ID9
    1025/     8AE :                     
    1026/     8AE :                     ILLINS0:
    1027/     8AE : 0CAF 0000 0134      	CMP.L	#ID1,2(A7)
              8B4 : 0002             
    1028/     8B6 : 6606                	BNE	ILLINS1
    1029/     8B8 :                     
    1030/     8B8 :                     	;; CALLM caused error ==> MC68010 or MC68030
    1031/     8B8 : 504F                	ADDQ	#8,A7		; Drop stack frame (MC68010- format)
    1032/     8BA : 6000 F88C           	BRA	ID2
    1033/     8BE :                     
    1034/     8BE :                     ILLINS1:
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 20 - 10/11/2023 20:38:14


    1035/     8BE : 0CAF 0000 0148      	CMP.L	#ID3,2(A7)
              8C4 : 0002             
    1036/     8C6 : 6612                	BNE	ILLINS2
    1037/     8C8 :                     
    1038/     8C8 :                     	;; MOVEC CACR,D0 caused error ==> MC68010
    1039/     8C8 : 504F                	ADDQ	#8,A7		; Drop stack frame (MC68010- format)
    1040/     8CA : 41F8 0E1B           	LEA	IM010,A0
    1041/     8CE : 13FC 0001 0000      	MOVE.B	#1,PSPEC
              8D4 : 862C             
    1042/     8D6 : 6000 F880           	BRA	ID9
    1043/     8DA :                     
    1044/     8DA :                     ILLINS2:	
    1045/     8DA :                     ILLINS9:
    1046/     8DA : [1016]              	ENDIF
    1047/     8DA :                     
    1048/     8DA : =>TRUE              	IF USE_REGCMD
    1049/     8DA : 48F9 7FFF 0000      	MOVEM.L	D0-D7/A0-A6,REGD0
              8E0 : 8638             
    1050/     8E2 : =>FALSE             	ELSE
    1051/     8E2 :                     	MOVEM.L	D0-D3,REGD0
    1052/     8E2 :                     	MOVEM.L	A0-A3,REGA0
    1053/     8E2 : [1048]              	ENDIF
    1054/     8E2 :                     
    1055/     8E2 : 23FC 0000 0E64      	MOVE.L	#ILLINS_M,EXMSG
              8E8 : 0000 862E          
    1056/     8EC : 33FC 0001 0000      	MOVE	#1,EXGRP	; Exception Group 1
              8F2 : 8632             
    1057/     8F4 :                     
    1058/     8F4 :                     	;; Check BREAK
    1059/     8F4 : 206F 0002           	MOVE.L	2(A7),A0	; Get PC
    1060/     8F8 : 3010                	MOVE	(A0),D0		; Read OP-code
    1061/     8FA : B07C 4AFC           	CMP	#$4AFC,D0
    1062/     8FE : 670C                	BEQ	BREAK
    1063/     900 : C07C FFF8           	AND	#$FFF8,D0
    1064/     904 : B07C 4848           	CMP	#$4848,D0
    1065/     908 : 6600 0222           	BNE	COMM_H0
    1066/     90C :                     BREAK:
    1067/     90C : 23FC 0000 0F79      	MOVE.L	#BREAK_M,EXMSG
              912 : 0000 862E          
    1068/     916 : 33FC 0101 0000      	MOVE	#$0101,EXGRP	; BREAK
              91C : 8632             
    1069/     91E : 6000 020C           	BRA	COMM_H0
    1070/     922 :                     
    1071/     922 :                     	;; 05 Zero Divide
    1072/     922 :                     ZERDIV_H:
    1073/     922 : 23FC 0000 0E78      	MOVE.L	#ZERDIV_M,EXMSG
              928 : 0000 862E          
    1074/     92C : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              932 : 8632             
    1075/     934 :                     
    1076/     934 : 6000 01EE           	BRA	COMM_H
    1077/     938 :                     
    1078/     938 :                     	;; 06 CHK Instruction
    1079/     938 :                     CHK_H:
    1080/     938 : 23FC 0000 0E84      	MOVE.L	#CHK_M,EXMSG
              93E : 0000 862E          
    1081/     942 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              948 : 8632             
    1082/     94A :                     
    1083/     94A : 6000 01D8           	BRA	COMM_H
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 21 - 10/11/2023 20:38:14


    1084/     94E :                     
    1085/     94E :                     	;; 07 TRAPV Instruction
    1086/     94E :                     TRAPV_H:
    1087/     94E : 23FC 0000 0E94      	MOVE.L	#TRAPV_M,EXMSG
              954 : 0000 862E          
    1088/     958 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              95E : 8632             
    1089/     960 :                     
    1090/     960 : 6000 01C2           	BRA	COMM_H
    1091/     964 :                     
    1092/     964 :                     	;; 08 Privilege Violation
    1093/     964 :                     PRIV_H:
    1094/     964 : 23FC 0000 0EA6      	MOVE.L	#PRIV_M,EXMSG
              96A : 0000 862E          
    1095/     96E : 33FC 0001 0000      	MOVE	#1,EXGRP	; Exception Group 1
              974 : 8632             
    1096/     976 :                     
    1097/     976 : 6000 01AC           	BRA	COMM_H
    1098/     97A :                     
    1099/     97A :                     	;; 09 Trace
    1100/     97A :                     TRACE_H:
    1101/     97A : 23FC 0000 0EBA      	MOVE.L	#TRACE_M,EXMSG
              980 : 0000 862E          
    1102/     984 : 33FC 0001 0000      	MOVE	#1,EXGRP	; Exception Group 1
              98A : 8632             
    1103/     98C :                     
    1104/     98C : 6000 0196           	BRA	COMM_H
    1105/     990 :                     
    1106/     990 :                     	;; 10 Line 1010 Emulator
    1107/     990 :                     L1010_H:
    1108/     990 : 23FC 0000 0EC0      	MOVE.L	#L1010_M,EXMSG
              996 : 0000 862E          
    1109/     99A : 33FC 0001 0000      	MOVE	#1,EXGRP	; Exception Group 1
              9A0 : 8632             
    1110/     9A2 :                     
    1111/     9A2 : 6000 0180           	BRA	COMM_H
    1112/     9A6 :                     
    1113/     9A6 :                     	;; 11 Line 1111 Emulator
    1114/     9A6 :                     L1111_H:
    1115/     9A6 : 23FC 0000 0ED3      	MOVE.L	#L1111_M,EXMSG
              9AC : 0000 862E          
    1116/     9B0 : 33FC 0001 0000      	MOVE	#1,EXGRP	; Exception Group 1
              9B6 : 8632             
    1117/     9B8 :                     
    1118/     9B8 : 6000 016A           	BRA	COMM_H
    1119/     9BC :                     
    1120/     9BC :                     	;; 14 Format Error
    1121/     9BC :                     FORMAT_H:
    1122/     9BC : 23FC 0000 0EE6      	MOVE.L	#FORMAT_M,EXMSG
              9C2 : 0000 862E          
    1123/     9C6 : 33FC 0001 0000      	MOVE	#1,EXGRP	; Exception Group 1
              9CC : 8632             
    1124/     9CE :                     
    1125/     9CE : 6000 0154           	BRA	COMM_H
    1126/     9D2 :                     
    1127/     9D2 :                     	;; 32 TRAP #0
    1128/     9D2 :                     TRAP0_H:
    1129/     9D2 : 23FC 0000 0EF3      	MOVE.L	#TRAP0_M,EXMSG
              9D8 : 0000 862E          
    1130/     9DC : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 22 - 10/11/2023 20:38:14


              9E2 : 8632             
    1131/     9E4 :                     
    1132/     9E4 : 6000 013E           	BRA	COMM_H
    1133/     9E8 :                     
    1134/     9E8 :                     	;; 33 TRAP #1
    1135/     9E8 :                     TRAP1_H:
    1136/     9E8 : 23FC 0000 0EFB      	MOVE.L	#TRAP1_M,EXMSG
              9EE : 0000 862E          
    1137/     9F2 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              9F8 : 8632             
    1138/     9FA :                     
    1139/     9FA : 6000 0128           	BRA	COMM_H
    1140/     9FE :                     
    1141/     9FE :                     	;; 34 TRAP #2
    1142/     9FE :                     TRAP2_H:
    1143/     9FE : 23FC 0000 0F03      	MOVE.L	#TRAP2_M,EXMSG
              A04 : 0000 862E          
    1144/     A08 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              A0E : 8632             
    1145/     A10 :                     
    1146/     A10 : 6000 0112           	BRA	COMM_H
    1147/     A14 :                     
    1148/     A14 :                     	;; 35 TRAP #3
    1149/     A14 :                     TRAP3_H:
    1150/     A14 : 23FC 0000 0F0B      	MOVE.L	#TRAP3_M,EXMSG
              A1A : 0000 862E          
    1151/     A1E : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              A24 : 8632             
    1152/     A26 :                     
    1153/     A26 : 6000 00FC           	BRA	COMM_H
    1154/     A2A :                     
    1155/     A2A :                     	;; 36 TRAP #4
    1156/     A2A :                     TRAP4_H:
    1157/     A2A : 23FC 0000 0F13      	MOVE.L	#TRAP4_M,EXMSG
              A30 : 0000 862E          
    1158/     A34 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              A3A : 8632             
    1159/     A3C :                     
    1160/     A3C : 6000 00E6           	BRA	COMM_H
    1161/     A40 :                     
    1162/     A40 :                     	;; 37 TRAP #5
    1163/     A40 :                     TRAP5_H:
    1164/     A40 : 23FC 0000 0F1B      	MOVE.L	#TRAP5_M,EXMSG
              A46 : 0000 862E          
    1165/     A4A : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              A50 : 8632             
    1166/     A52 :                     
    1167/     A52 : 6000 00D0           	BRA	COMM_H
    1168/     A56 :                     
    1169/     A56 :                     	;; 38 TRAP #6
    1170/     A56 :                     TRAP6_H:
    1171/     A56 : 23FC 0000 0F23      	MOVE.L	#TRAP6_M,EXMSG
              A5C : 0000 862E          
    1172/     A60 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              A66 : 8632             
    1173/     A68 :                     
    1174/     A68 : 6000 00BA           	BRA	COMM_H
    1175/     A6C :                     
    1176/     A6C :                     	;; 39 TRAP #7
    1177/     A6C :                     TRAP7_H:
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 23 - 10/11/2023 20:38:14


    1178/     A6C : 23FC 0000 0F2B      	MOVE.L	#TRAP7_M,EXMSG
              A72 : 0000 862E          
    1179/     A76 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              A7C : 8632             
    1180/     A7E :                     
    1181/     A7E : 6000 00A4           	BRA	COMM_H
    1182/     A82 :                     
    1183/     A82 :                     	;; 40 TRAP #8
    1184/     A82 :                     TRAP8_H:
    1185/     A82 : 23FC 0000 0F33      	MOVE.L	#TRAP8_M,EXMSG
              A88 : 0000 862E          
    1186/     A8C : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              A92 : 8632             
    1187/     A94 :                     
    1188/     A94 : 6000 008E           	BRA	COMM_H
    1189/     A98 :                     
    1190/     A98 :                     	;; 41 TRAP #9
    1191/     A98 :                     TRAP9_H:
    1192/     A98 : 23FC 0000 0F3B      	MOVE.L	#TRAP9_M,EXMSG
              A9E : 0000 862E          
    1193/     AA2 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              AA8 : 8632             
    1194/     AAA :                     
    1195/     AAA : 6078                	BRA	COMM_H
    1196/     AAC :                     
    1197/     AAC :                     	;; 42 TRAP #10
    1198/     AAC :                     TRAP10_H:
    1199/     AAC : 23FC 0000 0F43      	MOVE.L	#TRAP10_M,EXMSG
              AB2 : 0000 862E          
    1200/     AB6 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              ABC : 8632             
    1201/     ABE :                     
    1202/     ABE : 6064                	BRA	COMM_H
    1203/     AC0 :                     
    1204/     AC0 :                     	;; 43 TRAP #11
    1205/     AC0 :                     TRAP11_H:
    1206/     AC0 : 23FC 0000 0F4C      	MOVE.L	#TRAP11_M,EXMSG
              AC6 : 0000 862E          
    1207/     ACA : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              AD0 : 8632             
    1208/     AD2 :                     
    1209/     AD2 : 6050                	BRA	COMM_H
    1210/     AD4 :                     
    1211/     AD4 :                     	;; 44 TRAP #12
    1212/     AD4 :                     TRAP12_H:
    1213/     AD4 : 23FC 0000 0F55      	MOVE.L	#TRAP12_M,EXMSG
              ADA : 0000 862E          
    1214/     ADE : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              AE4 : 8632             
    1215/     AE6 :                     
    1216/     AE6 : 603C                	BRA	COMM_H
    1217/     AE8 :                     
    1218/     AE8 :                     	;; 45 TRAP #13
    1219/     AE8 :                     TRAP13_H:
    1220/     AE8 : 23FC 0000 0F5E      	MOVE.L	#TRAP13_M,EXMSG
              AEE : 0000 862E          
    1221/     AF2 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              AF8 : 8632             
    1222/     AFA :                     
    1223/     AFA : 6028                	BRA	COMM_H
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 24 - 10/11/2023 20:38:14


    1224/     AFC :                     
    1225/     AFC :                     	;; 46 TRAP #14
    1226/     AFC :                     TRAP14_H:
    1227/     AFC : 23FC 0000 0F67      	MOVE.L	#TRAP14_M,EXMSG
              B02 : 0000 862E          
    1228/     B06 : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              B0C : 8632             
    1229/     B0E :                     
    1230/     B0E : 6014                	BRA	COMM_H
    1231/     B10 :                     
    1232/     B10 :                     	;; 47 TRAP #15
    1233/     B10 :                     TRAP15_H:
    1234/     B10 : 23FC 0000 0F70      	MOVE.L	#TRAP15_M,EXMSG
              B16 : 0000 862E          
    1235/     B1A : 33FC 0002 0000      	MOVE	#2,EXGRP	; Exception Group 2
              B20 : 8632             
    1236/     B22 :                     
    1237/     B22 : 4E71                	BRA	COMM_H
    1238/     B24 :                     
    1239/     B24 :                     	;; 
    1240/     B24 :                     	;; Common handler
    1241/     B24 :                     	;; 
    1242/     B24 :                     COMM_H:
    1243/     B24 :                     	;; Save registers
    1244/     B24 : =>TRUE              	IF USE_REGCMD
    1245/     B24 : 48F9 7FFF 0000      	MOVEM.L	D0-D7/A0-A6,REGD0
              B2A : 8638             
    1246/     B2C : =>FALSE             	ELSE
    1247/     B2C :                     	MOVEM.L	D0-D3,REGD0
    1248/     B2C :                     	MOVEM.L	A0-A3,REGA0
    1249/     B2C : [1244]              	ENDIF
    1250/     B2C :                     
    1251/     B2C :                     COMM_H0:
    1252/     B2C :                     	
    1253/     B2C : =>TRUE              	IF USE_REGCMD
    1254/     B2C :                     
    1255/     B2C : 4A79 0000 8632      	TST	EXGRP
    1256/     B32 : 6614                	BNE	CH0		; not Group 0
    1257/     B34 : 4A39 0000 862C      	TST.B	PSPEC
    1258/     B3A : 660C                	BNE	CH0		; not MC68000/8
    1259/     B3C :                     
    1260/     B3C :                     	;; MC68000/8 : Group 0 (Bus/address error)
    1261/     B3C : 41F9 0000 8684      	LEA	GR0BUF,A0
    1262/     B42 : 30DF                	MOVE	(A7)+,(A0)+
    1263/     B44 : 20DF                	MOVE.L	(A7)+,(A0)+	; Access address
    1264/     B46 : 30DF                	MOVE	(A7)+,(A0)+	; Instruction register
    1265/     B48 :                     CH0:
    1266/     B48 :                     	;; Common
    1267/     B48 : 33DF 0000 867C      	MOVE	(A7)+,REGSR
    1268/     B4E : 23DF 0000 8634      	MOVE.L	(A7)+,REGPC
    1269/     B54 :                     
    1270/     B54 : 4E68                	MOVE	USP,A0
    1271/     B56 : 23C8 0000 8674      	MOVE.L	A0,REGA7
    1272/     B5C :                     	
    1273/     B5C : 4A39 0000 862C      	TST.B	PSPEC
    1274/     B62 : 6748                	BEQ	CH2
    1275/     B64 :                     
    1276/     B64 :                     	;; MC68010
    1277/     B64 :                     	SAVE
    1278/     B64 :                     	CPU	68010
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 25 - 10/11/2023 20:38:14


    1279/     B64 : 4E7A 0801           	MOVEC	VBR,D0
    1280/     B68 : 23C0 0000 867E      	MOVE.L	D0,REGVBR
    1281/     B6E : 4E7A 0000           	MOVEC	SFC,D0
    1282/     B72 : 13C0 0000 8682      	MOVE.B	D0,REGSFC
    1283/     B78 : 4E7A 0000           	MOVEC	SFC,D0
    1284/     B7C : 13C0 0000 8683      	MOVE.B	D0,REGDFC
    1285/     B82 : ALL                 	RESTORE
    1286/     B82 :                     
    1287/     B82 : 341F                	MOVE	(A7)+,D2	; Format / Vector offset
    1288/     B84 : 33C2 0000 86D8      	MOVE	D2,REGFV
    1289/     B8A : E95A                	ROL.W	#4,D2
    1290/     B8C : C47C 000F           	AND	#$000F,D2
    1291/     B90 : 41F9 0000 8684      	LEA	GR0BUF,A0
    1292/     B96 : 43F8 13B8           	LEA	FMTLEN,A1
    1293/     B9A : 4243                	CLR	D3
    1294/     B9C : 1631 2000           	MOVE.B	0(A1,D2.W),D3
    1295/     BA0 : 5943                	SUBQ	#4,D3		; 4 words already POPed
    1296/     BA2 : 6308                	BLS	CH2		; No more to POP, or unknown format
    1297/     BA4 : 5343                	SUBQ	#1,D3
    1298/     BA6 :                     CH1:
    1299/     BA6 : 30DF                	MOVE	(A7)+,(A0)+
    1300/     BA8 : 51CB FFFC           	DBF	D3,CH1
    1301/     BAC :                     	
    1302/     BAC :                     CH2:
    1303/     BAC : 23CF 0000 8678      	MOVE.L	A7,REGSSP
    1304/     BB2 :                     
    1305/     BB2 : =>FALSE             	ELSE
    1306/     BB2 :                     	;; USE_REGCMD == 0
    1307/     BB2 :                     
    1308/     BB2 :                     	TST.B	PSPEC
    1309/     BB2 :                     	BNE	CH1
    1310/     BB2 :                     
    1311/     BB2 :                     	;; MC68000/8
    1312/     BB2 :                     	TST	D2
    1313/     BB2 :                     	BNE	CH0
    1314/     BB2 :                     
    1315/     BB2 :                     	;; Group 0
    1316/     BB2 :                     	ADD.L	#7*2,A7
    1317/     BB2 :                     	BRA	CH3
    1318/     BB2 :                     
    1319/     BB2 :                     CH0:
    1320/     BB2 :                     	;; Group 1-3
    1321/     BB2 :                     	ADD.L	#3*2,A7
    1322/     BB2 :                     	BRA	CH3
    1323/     BB2 :                     	
    1324/     BB2 :                     CH1:
    1325/     BB2 :                     	;; MC68010 and above
    1326/     BB2 :                     	MOVE	6(A7),D2	; Get format word
    1327/     BB2 :                     	ROL	#4,D2
    1328/     BB2 :                     	AND	#$000F,D2
    1329/     BB2 :                     	LEA	FMTLEN,A1
    1330/     BB2 :                     	CLR	D3
    1331/     BB2 :                     	MOVE.B	0(A1,D2.W),D3
    1332/     BB2 :                     	ASL	#1,D3
    1333/     BB2 :                     	ADD	D3,A7
    1334/     BB2 :                     
    1335/     BB2 :                     CH3:	
    1336/     BB2 : [1253]              	ENDIF
    1337/     BB2 :                     
    1338/     BB2 : 2079 0000 862E      	MOVE.L	EXMSG,A0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 26 - 10/11/2023 20:38:14


    1339/     BB8 : 6100 FB76           	BSR	STROUT
    1340/     BBC : 6100 FBE6           	BSR	CRLF
    1341/     BC0 : =>TRUE              	IF USE_REGCMD
    1342/     BC0 : 4A79 0000 8632      	TST	EXGRP
    1343/     BC6 : 6602                	BNE	CH4
    1344/     BC8 : 6108                	BSR	G0DUMP
    1345/     BCA :                     CH4:	
    1346/     BCA : 6100 FB26           	BSR	RDUMP
    1347/     BCE : =>FALSE             	ELSE
    1348/     BCE :                     	IFDEF DEBUG
    1349/     BCE :                     	MOVE.L	A7,D0
    1350/     BCE :                     	BSR	HEXOUT8
    1351/     BCE : [1348]              	ENDIF
    1352/     BCE :                     	BSR	CRLF
    1353/     BCE : [1341]              	ENDIF
    1354/     BCE :                     
    1355/     BCE : 6000 F58C           	BRA	WSTART
    1356/     BD2 :                     
    1357/     BD2 : =>TRUE              	IF USE_REGCMD
    1358/     BD2 :                     ;;; DUMP group 0 (Address/Bus Error)
    1359/     BD2 :                     G0DUMP:
    1360/     BD2 : 4A39 0000 862C      	TST.B	PSPEC
    1361/     BD8 : 665A                	BNE	G0D1
    1362/     BDA :                     
    1363/     BDA :                     	;; MC68000/MC68008
    1364/     BDA : =>UNDEFINED         	IFDEF DEBUG
    1365/     BDA :                     	MOVE	GR0BUF,D0
    1366/     BDA :                     	BSR	HEXOUT4
    1367/     BDA :                     	MOVE.B	#' ',D0
    1368/     BDA :                     	BSR	CONOUT
    1369/     BDA :                     	MOVE.L	GR0BUF+2,D0
    1370/     BDA :                     	BSR	HEXOUT8		; Access address
    1371/     BDA :                     	MOVE.B	#' ',D0
    1372/     BDA :                     	BSR	CONOUT
    1373/     BDA :                     	MOVE	GR0BUF+6,D0
    1374/     BDA :                     	BSR	HEXOUT4		; Instruction register
    1375/     BDA :                     	BSR	CRLF
    1376/     BDA : [1364]              	ENDIF
    1377/     BDA :                     
    1378/     BDA :                     	;; Function Code
    1379/     BDA : 3039 0000 8684      	MOVE	GR0BUF,D0
    1380/     BE0 : C07C 0007           	AND	#$0007,D0
    1381/     BE4 : E548                	LSL	#2,D0
    1382/     BE6 : 41F8 12AE           	LEA	FCTAB,A0
    1383/     BEA : 2070 3000           	MOVE.L	0(A0,D3.W),A0
    1384/     BEE : 6100 FB40           	BSR	STROUT
    1385/     BF2 :                     
    1386/     BF2 :                     	;; Read / Write
    1387/     BF2 : 3039 0000 8684      	MOVE	GR0BUF,D0
    1388/     BF8 : C07C 0010           	AND	#$0010,D0
    1389/     BFC : 6606                	BNE	G0D00
    1390/     BFE : 41F8 135A           	LEA	G0WR,A0
    1391/     C02 : 6004                	BRA	G0D01
    1392/     C04 :                     G0D00:
    1393/     C04 : 41F8 1361           	LEA	G0RD,A0
    1394/     C08 :                     G0D01:
    1395/     C08 : 6100 FB26           	BSR	STROUT
    1396/     C0C :                     
    1397/     C0C :                     	;; Address
    1398/     C0C : 2039 0000 8686      	MOVE.L	GR0BUF+2,D0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 27 - 10/11/2023 20:38:14


    1399/     C12 : 6100 FB2A           	BSR	HEXOUT8		; Access address
    1400/     C16 :                     
    1401/     C16 :                     	;; Instruction Register
    1402/     C16 : 41F8 1367           	LEA	G0INS0,A0
    1403/     C1A : 6100 FB14           	BSR	STROUT
    1404/     C1E : 3039 0000 868A      	MOVE	GR0BUF+6,D0
    1405/     C24 : 6100 FB20           	BSR	HEXOUT4		; Instruction register
    1406/     C28 : 103C 0029           	MOVE.B	#')',D0
    1407/     C2C : 6100 07BC           	BSR	CONOUT
    1408/     C30 :                     
    1409/     C30 : 6000 FB72           	BRA	CRLF
    1410/     C34 :                     
    1411/     C34 :                     G0D1:
    1412/     C34 : =>TRUE              	IF USE_SFDECODE
    1413/     C34 : 3639 0000 86D8      	MOVE	REGFV,D3
    1414/     C3A : E95B                	ROL	#4,D3
    1415/     C3C : C67C 000F           	AND	#$000F,D3
    1416/     C40 : B67C 0008           	CMP	#$08,D3
    1417/     C44 : 6600 00CA           	BNE	G0D2		; Not MC68010
    1418/     C48 :                     
    1419/     C48 :                     	;; MC68010
    1420/     C48 : =>UNDEFINED         	IFDEF DEBUG
    1421/     C48 :                     	MOVE	GR0BUF,D0	; Special Status Word
    1422/     C48 :                     	BSR	HEXOUT4
    1423/     C48 :                     	MOVE	#' ',D0
    1424/     C48 :                     	BSR	CONOUT
    1425/     C48 :                     	MOVE.L	GR0BUF+2,D0	; Fault Address
    1426/     C48 :                     	BSR	HEXOUT8
    1427/     C48 :                     	MOVE	#' ',D0
    1428/     C48 :                     	BSR	CONOUT
    1429/     C48 :                     	MOVE	GR0BUF+8,D0
    1430/     C48 :                     	BSR	HEXOUT4
    1431/     C48 :                     	BSR	CRLF
    1432/     C48 : [1420]              	ENDIF
    1433/     C48 :                     
    1434/     C48 :                     	;; Function Code
    1435/     C48 : 3039 0000 8684      	MOVE	GR0BUF,D0
    1436/     C4E : C07C 0007           	AND	#$0007,D0
    1437/     C52 : E548                	LSL	#2,D0
    1438/     C54 : 41F8 12CE           	LEA	FCTAB2,A0
    1439/     C58 : 2070 0000           	MOVE.L	0(A0,D0),A0
    1440/     C5C : 6100 FAD2           	BSR	STROUT
    1441/     C60 : 41F8 1387           	LEA	G0SPC,A0
    1442/     C64 : 6100 FACA           	BSR	STROUT
    1443/     C68 :                     
    1444/     C68 :                     	;; Read / Write
    1445/     C68 : 3039 0000 8684      	MOVE	GR0BUF,D0
    1446/     C6E : 0800 0008           	BTST	#8,D0
    1447/     C72 : 6606                	BNE	G0D10
    1448/     C74 : 41F8 135A           	LEA	G0WR,A0
    1449/     C78 : 6004                	BRA	G0D11
    1450/     C7A :                     G0D10:
    1451/     C7A : 41F8 1361           	LEA	G0RD,A0
    1452/     C7E :                     G0D11:
    1453/     C7E : 6100 FAB0           	BSR	STROUT
    1454/     C82 :                     
    1455/     C82 :                     	;; BYTE / WORD
    1456/     C82 : 3039 0000 8684      	MOVE	GR0BUF,D0
    1457/     C88 : 0800 0009           	BTST	#9,D0
    1458/     C8C : 6706                	BEQ	G0D12
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 28 - 10/11/2023 20:38:14


    1459/     C8E : 41F8 1370           	LEA	G0BYTE,A0
    1460/     C92 : 6004                	BRA	G0D13
    1461/     C94 :                     G0D12:
    1462/     C94 : 41F8 1376           	LEA	G0WORD,A0
    1463/     C98 :                     G0D13:
    1464/     C98 : 6100 FA96           	BSR	STROUT
    1465/     C9C :                     
    1466/     C9C :                     	;; Write Data
    1467/     C9C : 41F8 1381           	LEA	G0FROM,A0
    1468/     CA0 : 3039 0000 8684      	MOVE	GR0BUF,D0
    1469/     CA6 : 0800 0008           	BTST	#8,D0
    1470/     CAA : 662A                	BNE	G0D17		; if READ
    1471/     CAC : 0800 0009           	BTST	#9,D0
    1472/     CB0 : 6716                	BEQ	G0D15		; if WORD
    1473/     CB2 : 3239 0000 868C      	MOVE	GR0BUF+8,D1
    1474/     CB8 : 0800 000A           	BTST	#10,D0
    1475/     CBC : 6702                	BEQ	G0D14		; if not HB
    1476/     CBE : E049                	LSR	#8,D1
    1477/     CC0 :                     G0D14:
    1478/     CC0 : 1001                	MOVE.B	D1,D0
    1479/     CC2 : 6100 FA8A           	BSR	HEXOUT2
    1480/     CC6 : 600A                	BRA	G0D16
    1481/     CC8 :                     G0D15:
    1482/     CC8 : 3039 0000 868C      	MOVE	GR0BUF+8,D0
    1483/     CCE : 6100 FA76           	BSR	HEXOUT4
    1484/     CD2 :                     G0D16:
    1485/     CD2 : 41F8 137C           	LEA	G0TO,A0
    1486/     CD6 :                     G0D17:	
    1487/     CD6 : 6100 FA58           	BSR	STROUT
    1488/     CDA :                     
    1489/     CDA :                     	;; Address
    1490/     CDA : 2039 0000 8686      	MOVE.L	GR0BUF+2,D0
    1491/     CE0 : 6100 FA5C           	BSR	HEXOUT8		; Access address
    1492/     CE4 :                     
    1493/     CE4 :                     	;; Instruction Fetch
    1494/     CE4 : 3039 0000 8684      	MOVE	GR0BUF,D0
    1495/     CEA : 0800 000D           	BTST	#13,D0
    1496/     CEE : 6708                	BEQ	G0D18
    1497/     CF0 : 41F8 138E           	LEA	G0IF,A0
    1498/     CF4 : 6100 FA3A           	BSR	STROUT
    1499/     CF8 :                     G0D18:
    1500/     CF8 :                     	;; Read-Modify-Write
    1501/     CF8 : 3039 0000 8684      	MOVE	GR0BUF,D0
    1502/     CFE : 0800 000B           	BTST	#11,D0
    1503/     D02 : 6708                	BEQ	G0D19
    1504/     D04 : 41F8 13A3           	LEA	G0RMW,A0
    1505/     D08 : 6100 FA26           	BSR	STROUT
    1506/     D0C :                     G0D19:
    1507/     D0C : 6000 FA96           	BRA	CRLF
    1508/     D10 :                     
    1509/     D10 :                     G0D2:
    1510/     D10 : B67C 000A           	CMP	#$0A,D3		; MC68020/MC68030 Short Bus Fault Stack Frame
    1511/     D14 : 6706                	BEQ	G0D20
    1512/     D16 : B67C 000B           	CMP	#$0B,D3		; MC68020/MC68030 Long Bus Fault Stack Frame
    1513/     D1A : 4E71                	BNE	G0D3
    1514/     D1C :                     G0D20:
    1515/     D1C :                     	;; MC68020 / MC68030
    1516/     D1C :                     
    1517/     D1C :                     
    1518/     D1C :                     G0D3:
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 29 - 10/11/2023 20:38:14


    1519/     D1C : [1412]              	ENDIF			; USE_SFDECODE
    1520/     D1C :                     
    1521/     D1C :                     G0D9:
    1522/     D1C :                     	;; Unsupported Stack Frame
    1523/     D1C : 3039 0000 867C      	MOVE	REGSR,D0
    1524/     D22 : 6100 FA22           	BSR	HEXOUT4
    1525/     D26 : 103C 0020           	MOVE.B	#' ',D0
    1526/     D2A : 6100 06BE           	BSR	CONOUT
    1527/     D2E :                     
    1528/     D2E : 3039 0000 8634      	MOVE	REGPC,D0
    1529/     D34 : 6100 FA10           	BSR	HEXOUT4
    1530/     D38 : 103C 0020           	MOVE.B	#' ',D0
    1531/     D3C : 6100 06AC           	BSR	CONOUT
    1532/     D40 :                     
    1533/     D40 : 3039 0000 8636      	MOVE	REGPC+2,D0
    1534/     D46 : 6100 F9FE           	BSR	HEXOUT4
    1535/     D4A : 103C 0020           	MOVE.B	#' ',D0
    1536/     D4E : 6100 069A           	BSR	CONOUT
    1537/     D52 :                     
    1538/     D52 : 3039 0000 86D8      	MOVE	REGFV,D0
    1539/     D58 : 6100 F9EC           	BSR	HEXOUT4
    1540/     D5C : 103C 0020           	MOVE.B	#' ',D0
    1541/     D60 : 6100 0688           	BSR	CONOUT
    1542/     D64 :                     
    1543/     D64 : 4242                	CLR	D2
    1544/     D66 : 41F8 13B8           	LEA	FMTLEN,A0
    1545/     D6A : 3639 0000 86D8      	MOVE	REGFV,D3
    1546/     D70 : E95B                	ROL	#4,D3
    1547/     D72 : C67C 000F           	AND	#$000F,D3
    1548/     D76 : 1430 3000           	MOVE.B	0(A0,D3),D2
    1549/     D7A : 7604                	MOVEQ	#4,D3		; Counter.  4 words already printed
    1550/     D7C : 41F9 0000 8684      	LEA	GR0BUF,A0
    1551/     D82 :                     
    1552/     D82 :                     G0D90:
    1553/     D82 : 3018                	MOVE	(A0)+,D0
    1554/     D84 : 6100 F9C0           	BSR	HEXOUT4
    1555/     D88 : 5243                	ADDQ	#1,D3
    1556/     D8A : B443                	CMP	D3,D2
    1557/     D8C : 6318                	BLS	G0D92
    1558/     D8E : 303C 000F           	MOVE	#$000F,D0
    1559/     D92 : C043                	AND	D3,D0
    1560/     D94 : 6606                	BNE	G0D91
    1561/     D96 : 6100 FA0C           	BSR	CRLF
    1562/     D9A : 60E6                	BRA	G0D90
    1563/     D9C :                     G0D91:
    1564/     D9C : 103C 0020           	MOVE.B	#' ',D0
    1565/     DA0 : 6100 0648           	BSR	CONOUT
    1566/     DA4 : 60DC                	BRA	G0D90
    1567/     DA6 :                     G0D92:	
    1568/     DA6 : 6000 F9FC           	BRA	CRLF
    1569/     DAA :                     
    1570/     DAA : [1357]              	ENDIF
    1571/     DAA :                     
    1572/     DAA : =>TRUE              	IF USE_IDENT
    1573/     DAA :                     
    1574/     DAA :                     	SAVE
    1575/     DAA :                     	CPU	68020
    1576/     DAA :                     DMYRTM:
    1577/     DAA : F000                	DC.W	$F000		; A7
    1578/     DAC : 06CF                	RTM	A7
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 30 - 10/11/2023 20:38:14


    1579/     DAE : ALL                 	RESTORE
    1580/     DAE :                     
    1581/     DAE : [1572]              	ENDIF
    1582/     DAE :                     
    1583/     DAE :                     ;;;
    1584/     DAE :                     ;;; Data area
    1585/     DAE :                     ;;; 
    1586/     DAE :                     	
    1587/     DAE : 0D0A 556E 6976      OPNMSG:	DC.B	CR,LF,"Universal Monitor 68000",CR,LF,$00
              DB4 : 6572 7361 6C20 
              DBA : 4D6F 6E69 746F 
              DC0 : 7220 3638 3030 
              DC6 : 300D 0A00          
    1588/     DCA :                     
    1589/     DCA : 5D20 00             PROMPT:	DC.B	"] ",$00
    1590/     DCD :                     
    1591/     DCD : 4572 726F 7220      IHEMSG:	DC.B	"Error ihex",CR,LF,$00
              DD3 : 6968 6578 0D0A 00 
    1592/     DDA : 4572 726F 7220      SHEMSG:	DC.B	"Error srec",CR,LF,$00
              DE0 : 7372 6563 0D0A 00 
    1593/     DE7 : 4572 726F 720D      ERRMSG:	DC.B	"Error",CR,LF,$00
              DED : 0A00             
    1594/     DEF :                     
    1595/     DEF : 203A 00             DSEP0:	DC.B	" :",$00
    1596/     DF2 : 203A 2000           DSEP1:	DC.B	" : ",$00
    1597/     DF6 : 3A30 3030 3030      IHEXER:	DC.B	":00000001FF",CR,LF,$00
              DFC : 3030 3146 460D 
              E02 : 0A00             
    1598/     E04 : 5339 3033 3030      SRECER: DC.B	"S9030000FC",CR,LF,$00
              E0A : 3030 4643 0D0A 00 
    1599/     E11 :                     
    1600/     E11 : =>TRUE              	IF USE_IDENT
    1601/     E11 :                     
    1602/     E11 : 4D43 3638 3030      IM000:	DC.B	"MC68000",CR,LF,$00
              E17 : 300D 0A00          
    1603/     E1B : 4D43 3638 3031      IM010:	DC.B	"MC68010",CR,LF,$00
              E21 : 300D 0A00          
    1604/     E25 : 4D43 3638 3032      IM020:	DC.B	"MC68020",CR,LF,$00
              E2B : 300D 0A00          
    1605/     E2F : 4D43 3638 3033      IM030:	DC.B	"MC68030",CR,LF,$00
              E35 : 300D 0A00          
    1606/     E39 :                     
    1607/     E39 :                     	;; Module Descriptor for CALLM
    1608/     E39 :                     	ALIGN	4
    1609/     E3C :                     MDESC:
    1610/     E3C : 0000 0000           	DC.L	$00000000	; Opt=000, Type=$00, AL=$00
    1611/     E40 : 0000 0DAA           	DC.L	DMYRTM		; Module Entry Word Pointer
    1612/     E44 : 0000 0000           	DC.L	$00000000	; Module Data Area Pointer
    1613/     E48 : 0000 0000           	DC.L	$00000000
    1614/     E4C :                     	
    1615/     E4C : [1600]              	ENDIF
    1616/     E4C :                     
    1617/     E4C :                     BUSERR_M:
    1618/     E4C : 4275 7320 4572      	DC.B	"Bus Error",$00
              E52 : 726F 7200          
    1619/     E56 :                     ADDERR_M:
    1620/     E56 : 4164 6472 6573      	DC.B	"Address Error",$00
              E5C : 7320 4572 726F 
              E62 : 7200             
    1621/     E64 :                     ILLINS_M:
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 31 - 10/11/2023 20:38:14


    1622/     E64 : 496C 6C65 6761      	DC.B	"Illegal Instruction",$00
              E6A : 6C20 496E 7374 
              E70 : 7275 6374 696F 
              E76 : 6E00             
    1623/     E78 :                     ZERDIV_M:
    1624/     E78 : 5A65 726F 2044      	DC.B	"Zero Divide",$00
              E7E : 6976 6964 6500    
    1625/     E84 :                     CHK_M:
    1626/     E84 : 4348 4B20 496E      	DC.B	"CHK Instruction",$00
              E8A : 7374 7275 6374 
              E90 : 696F 6E00          
    1627/     E94 :                     TRAPV_M:
    1628/     E94 : 5452 4150 5620      	DC.B	"TRAPV Instruction",$00
              E9A : 496E 7374 7275 
              EA0 : 6374 696F 6E00    
    1629/     EA6 :                     PRIV_M:
    1630/     EA6 : 5072 6976 696C      	DC.B	"Privilege Violation",$00
              EAC : 6567 6520 5669 
              EB2 : 6F6C 6174 696F 
              EB8 : 6E00             
    1631/     EBA :                     TRACE_M:
    1632/     EBA : 5472 6163 6500      	DC.B	"Trace",$00
    1633/     EC0 :                     L1010_M:
    1634/     EC0 : 4C69 6E65 2031      	DC.B	"Line 1010 Emulator",$00
              EC6 : 3031 3020 456D 
              ECC : 756C 6174 6F72 00 
    1635/     ED3 :                     L1111_M:
    1636/     ED3 : 4C69 6E65 2031      	DC.B	"Line 1111 Emulator",$00
              ED9 : 3131 3120 456D 
              EDF : 756C 6174 6F72 00 
    1637/     EE6 :                     FORMAT_M:
    1638/     EE6 : 466F 726D 6174      	DC.B	"Format Error",$00
              EEC : 2045 7272 6F72 00 
    1639/     EF3 :                     TRAP0_M:
    1640/     EF3 : 5452 4150 2023      	DC.B	"TRAP #0",$00
              EF9 : 3000             
    1641/     EFB :                     TRAP1_M:
    1642/     EFB : 5452 4150 2023      	DC.B	"TRAP #1",$00
              F01 : 3100             
    1643/     F03 :                     TRAP2_M:
    1644/     F03 : 5452 4150 2023      	DC.B	"TRAP #2",$00
              F09 : 3200             
    1645/     F0B :                     TRAP3_M:
    1646/     F0B : 5452 4150 2023      	DC.B	"TRAP #3",$00
              F11 : 3300             
    1647/     F13 :                     TRAP4_M:
    1648/     F13 : 5452 4150 2023      	DC.B	"TRAP #4",$00
              F19 : 3400             
    1649/     F1B :                     TRAP5_M:
    1650/     F1B : 5452 4150 2023      	DC.B	"TRAP #5",$00
              F21 : 3500             
    1651/     F23 :                     TRAP6_M:
    1652/     F23 : 5452 4150 2023      	DC.B	"TRAP #6",$00
              F29 : 3600             
    1653/     F2B :                     TRAP7_M:
    1654/     F2B : 5452 4150 2023      	DC.B	"TRAP #7",$00
              F31 : 3700             
    1655/     F33 :                     TRAP8_M:
    1656/     F33 : 5452 4150 2023      	DC.B	"TRAP #8",$00
              F39 : 3800             
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 32 - 10/11/2023 20:38:14


    1657/     F3B :                     TRAP9_M:
    1658/     F3B : 5452 4150 2023      	DC.B	"TRAP #9",$00
              F41 : 3900             
    1659/     F43 :                     TRAP10_M:
    1660/     F43 : 5452 4150 2023      	DC.B	"TRAP #10",$00
              F49 : 3130 00          
    1661/     F4C :                     TRAP11_M:
    1662/     F4C : 5452 4150 2023      	DC.B	"TRAP #11",$00
              F52 : 3131 00          
    1663/     F55 :                     TRAP12_M:
    1664/     F55 : 5452 4150 2023      	DC.B	"TRAP #12",$00
              F5B : 3132 00          
    1665/     F5E :                     TRAP13_M:
    1666/     F5E : 5452 4150 2023      	DC.B	"TRAP #13",$00
              F64 : 3133 00          
    1667/     F67 :                     TRAP14_M:
    1668/     F67 : 5452 4150 2023      	DC.B	"TRAP #14",$00
              F6D : 3134 00          
    1669/     F70 :                     TRAP15_M:
    1670/     F70 : 5452 4150 2023      	DC.B	"TRAP #15",$00
              F76 : 3135 00          
    1671/     F79 :                     
    1672/     F79 :                     BREAK_M:
    1673/     F79 : 4252 4541 4B00      	DC.B	"BREAK",$00
    1674/     F7F :                     
    1675/     F7F :                     
    1676/     F7F : =>TRUE              	IF USE_REGCMD
    1677/     F7F :                     
    1678/     F7F :                     	ALIGN	2
    1679/     F80 : 0003                RDTAB:	DC.W	$0003		; LONG
    1680/     F82 : 0000 105E 0000      	DC.L	RDSD07, REGD0
              F88 : 8638             
    1681/     F8A : 0003                	DC.W	$0003
    1682/     F8C : 0000 1092 0000      	DC.L	RDSC,   REGD1
              F92 : 863C             
    1683/     F94 : 0003                	DC.W	$0003
    1684/     F96 : 0000 1092 0000      	DC.L	RDSC,   REGD2
              F9C : 8640             
    1685/     F9E : 0003                	DC.W	$0003
    1686/     FA0 : 0000 1092 0000      	DC.L	RDSC,   REGD3
              FA6 : 8644             
    1687/     FA8 : 0003                	DC.W	$0003
    1688/     FAA : 0000 1094 0000      	DC.L	RDSCS,  REGD4
              FB0 : 8648             
    1689/     FB2 : 0003                	DC.W	$0003
    1690/     FB4 : 0000 1092 0000      	DC.L	RDSC,   REGD5
              FBA : 864C             
    1691/     FBC : 0003                	DC.W	$0003
    1692/     FBE : 0000 1092 0000      	DC.L	RDSC,   REGD6
              FC4 : 8650             
    1693/     FC6 : 0003                	DC.W	$0003
    1694/     FC8 : 0000 1092 0000      	DC.L	RDSC,   REGD7
              FCE : 8654             
    1695/     FD0 :                     
    1696/     FD0 : 0003                	DC.W	$0003
    1697/     FD2 : 0000 1065 0000      	DC.L	RDSA07, REGA0
              FD8 : 8658             
    1698/     FDA : 0003                	DC.W	$0003
    1699/     FDC : 0000 1092 0000      	DC.L	RDSC,   REGA1
              FE2 : 865C             
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 33 - 10/11/2023 20:38:14


    1700/     FE4 : 0003                	DC.W	$0003
    1701/     FE6 : 0000 1092 0000      	DC.L	RDSC,   REGA2
              FEC : 8660             
    1702/     FEE : 0003                	DC.W	$0003
    1703/     FF0 : 0000 1092 0000      	DC.L	RDSC,   REGA3
              FF6 : 8664             
    1704/     FF8 : 0003                	DC.W	$0003
    1705/     FFA : 0000 1094 0000      	DC.L	RDSCS,  REGA4
             1000 : 8668             
    1706/    1002 : 0003                	DC.W	$0003
    1707/    1004 : 0000 1092 0000      	DC.L	RDSC,   REGA5
             100A : 866C             
    1708/    100C : 0003                	DC.W	$0003
    1709/    100E : 0000 1092 0000      	DC.L	RDSC,   REGA6
             1014 : 8670             
    1710/    1016 : 0003                	DC.W	$0003
    1711/    1018 : 0000 1092 0000      	DC.L	RDSC,   REGA7
             101E : 8674             
    1712/    1020 :                     
    1713/    1020 : 0003                	DC.W	$0003
    1714/    1022 : 0000 106E 0000      	DC.L	RDSPC,  REGPC
             1028 : 8634             
    1715/    102A : 0003                	DC.W	$0003
    1716/    102C : 0000 1074 0000      	DC.L	RDSSSP, REGSSP
             1032 : 8678             
    1717/    1034 : 0002                	DC.W	$0002		; WORD
    1718/    1036 : 0000 107A 0000      	DC.L	RDSSR,  REGSR
             103C : 867C             
    1719/    103E :                     
    1720/    103E : 8003                	DC.W	$8003		; LONG + (END flag for MC68000/8)
    1721/    1040 : 0000 107F 0000      	DC.L	RDSVBR, REGVBR
             1046 : 867E             
    1722/    1048 : 8001                	DC.W	$8001		; BYTE
    1723/    104A : 0000 1086 0000      	DC.L	RDSSFC, REGSFC
             1050 : 8682             
    1724/    1052 : 8001                	DC.W	$8001		; BYTE
    1725/    1054 : 0000 108C 0000      	DC.L	RDSDFC, REGDFC	
             105A : 8683             
    1726/    105C :                     	
    1727/    105C : 0000                	DC.W	$0000		; END
    1728/    105E :                     
    1729/    105E : 4430 2D44 373D 00   RDSD07:	DC.B	"D0-D7=",$00
    1730/    1065 : 0D0A 4130 2D41      RDSA07:	DC.B	CR,LF,"A0-A7=",$00
             106B : 373D 00          
    1731/    106E : 0D0A 5043 3D00      RDSPC:	DC.B	CR,LF,"PC=",$00
    1732/    1074 : 2053 5350 3D00      RDSSSP:	DC.B	" SSP=",$00
    1733/    107A : 2053 523D 00        RDSSR:	DC.B	" SR=",$00
    1734/    107F : 2020 5642 523D 00   RDSVBR:	DC.B	"  VBR=",$00
    1735/    1086 : 2053 4643 3D00      RDSSFC:	DC.B	" SFC=",$00
    1736/    108C : 2044 4643 3D00      RDSDFC:	DC.B	" DFC=",$00
    1737/    1092 : 2C00                RDSC:	DC.B	",",$00
    1738/    1094 : 2C20 00             RDSCS:	DC.B	", ",$00
    1739/    1097 :                     
    1740/    1097 :                     	ALIGN	2
    1741/    1098 :                     RNTAB:
    1742/    1098 : 410F                	DC.B	'A',$0F		; "A?"
    1743/    109A : 0000 10DE 0000      	DC.L	RNTABA,0
             10A0 : 0000             
    1744/    10A2 : 430F                	DC.B	'C',$0F		; "C?"
    1745/    10A4 : 0000 1138 0000      	DC.L	RNTABC,0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 34 - 10/11/2023 20:38:14


             10AA : 0000             
    1746/    10AC : 440F                	DC.B	'D',$0F		; "D?"
    1747/    10AE : 0000 114C 0000      	DC.L	RNTABD,0
             10B4 : 0000             
    1748/    10B6 : 500F                	DC.B	'P',$0F		; "P?"
    1749/    10B8 : 0000 11B0 0000      	DC.L	RNTABP,0
             10BE : 0000             
    1750/    10C0 : 530F                	DC.B	'S',$0F		; "S?"
    1751/    10C2 : 0000 11C4 0000      	DC.L	RNTABS,0
             10C8 : 0000             
    1752/    10CA : 560F                	DC.B	'V',$0F		; "V?"
    1753/    10CC : 0000 11EC 0000      	DC.L	RNTABV,0
             10D2 : 0000             
    1754/    10D4 :                     
    1755/    10D4 : 0000                	DC.B	$00,$00		; End mark
    1756/    10D6 : 0000 0000 0000      	DC.L	0,0
             10DC : 0000             
    1757/    10DE :                     
    1758/    10DE :                     RNTABA:
    1759/    10DE : 3003                	DC.B	'0',3		; "A0"
    1760/    10E0 : 0000 8658 0000      	DC.L	REGA0, RNA0
             10E6 : 1264             
    1761/    10E8 : 3103                	DC.B	'1',3		; "A1"
    1762/    10EA : 0000 865C 0000      	DC.L	REGA1, RNA1
             10F0 : 1267             
    1763/    10F2 : 3203                	DC.B	'2',3		; "A2"
    1764/    10F4 : 0000 8660 0000      	DC.L	REGA2, RNA2
             10FA : 126A             
    1765/    10FC : 3303                	DC.B	'3',3		; "A3"
    1766/    10FE : 0000 8664 0000      	DC.L	REGA3, RNA3
             1104 : 126D             
    1767/    1106 : 3403                	DC.B	'4',3		; "A4"
    1768/    1108 : 0000 8668 0000      	DC.L	REGA4, RNA4
             110E : 1270             
    1769/    1110 : 3503                	DC.B	'5',3		; "A5"
    1770/    1112 : 0000 866C 0000      	DC.L	REGA5, RNA5
             1118 : 1273             
    1771/    111A : 3603                	DC.B	'6',3		; "A6"
    1772/    111C : 0000 8670 0000      	DC.L	REGA6, RNA6
             1122 : 1276             
    1773/    1124 : 3703                	DC.B	'7',3		; "A7"
    1774/    1126 : 0000 8674 0000      	DC.L	REGA7, RNA7
             112C : 1279             
    1775/    112E :                     
    1776/    112E : 0000                	DC.B	$00,$00		; End mark
    1777/    1130 : 0000 0000 0000      	DC.L	0,0
             1136 : 0000             
    1778/    1138 :                     
    1779/    1138 :                     RNTABC:
    1780/    1138 : 430F                	DC.B	'C', $0F	; "CC"
    1781/    113A : 0000 1200 0000      	DC.L	RNTABCC, 0
             1140 : 0000             
    1782/    1142 :                     	
    1783/    1142 : 0000                	DC.B	$00,$00		; End mark
    1784/    1144 : 0000 0000 0000      	DC.L	0,0
             114A : 0000             
    1785/    114C :                     
    1786/    114C :                     RNTABD:
    1787/    114C : 3003                	DC.B	'0',3		; "D0"
    1788/    114E : 0000 8638 0000      	DC.L	REGD0, RND0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 35 - 10/11/2023 20:38:14


             1154 : 1280             
    1789/    1156 : 3103                	DC.B	'1',3		; "D1"
    1790/    1158 : 0000 863C 0000      	DC.L	REGD1, RND1
             115E : 1283             
    1791/    1160 : 3203                	DC.B	'2',3		; "D2"
    1792/    1162 : 0000 8640 0000      	DC.L	REGD2, RND2
             1168 : 1286             
    1793/    116A : 3303                	DC.B	'3',3		; "D3"
    1794/    116C : 0000 8644 0000      	DC.L	REGD3, RND3
             1172 : 1289             
    1795/    1174 : 3403                	DC.B	'4',3		; "D4"
    1796/    1176 : 0000 8648 0000      	DC.L	REGD4, RND4
             117C : 128C             
    1797/    117E : 3503                	DC.B	'5',3		; "D5"
    1798/    1180 : 0000 864C 0000      	DC.L	REGD5, RND5
             1186 : 128F             
    1799/    1188 : 3603                	DC.B	'6',3		; "D6"
    1800/    118A : 0000 8650 0000      	DC.L	REGD6, RND6
             1190 : 1292             
    1801/    1192 : 3703                	DC.B	'7',3		; "D7"
    1802/    1194 : 0000 8654 0000      	DC.L	REGD7, RND7
             119A : 1295             
    1803/    119C : 460F                	DC.B	'F', $0F	; "DF?"
    1804/    119E : 0000 1214 0000      	DC.L	RNTABDF, 0
             11A4 : 0000             
    1805/    11A6 :                     
    1806/    11A6 : 0000                	DC.B	$00,$00		; End mark
    1807/    11A8 : 0000 0000 0000      	DC.L	0,0
             11AE : 0000             
    1808/    11B0 :                     
    1809/    11B0 :                     RNTABP:
    1810/    11B0 : 4303                	DC.B	'C',3		; "PC"
    1811/    11B2 : 0000 8634 0000      	DC.L	REGPC, RNPC
             11B8 : 129C             
    1812/    11BA :                     
    1813/    11BA : 0000                	DC.B	$00,$00		; End mark
    1814/    11BC : 0000 0000 0000      	DC.L	0,0
             11C2 : 0000             
    1815/    11C4 :                     
    1816/    11C4 :                     RNTABS:
    1817/    11C4 : 460F                	DC.B	'F', $0F	; "SF?"
    1818/    11C6 : 0000 1228 0000      	DC.L	RNTABSF, 0
             11CC : 0000             
    1819/    11CE : 5202                	DC.B	'R', 2		; "SR"
    1820/    11D0 : 0000 867C 0000      	DC.L	REGSR, RNSR
             11D6 : 12A3             
    1821/    11D8 : 530F                	DC.B	'S', $0F	; "SS?"
    1822/    11DA : 0000 123C 0000      	DC.L	RNTABSS, 0
             11E0 : 0000             
    1823/    11E2 :                     
    1824/    11E2 : 0000                	DC.B	$00,$00		; End mark
    1825/    11E4 : 0000 0000 0000      	DC.L	0,0
             11EA : 0000             
    1826/    11EC :                     
    1827/    11EC :                     RNTABV:
    1828/    11EC : 420F                	DC.B	'B', $0F	; "VB?"
    1829/    11EE : 0000 1250 0000      	DC.L	RNTABVB, 0
             11F4 : 0000             
    1830/    11F6 :                     
    1831/    11F6 : 0000                	DC.B	$00,$00		; End mark
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 36 - 10/11/2023 20:38:14


    1832/    11F8 : 0000 0000 0000      	DC.L	0,0
             11FE : 0000             
    1833/    1200 :                     
    1834/    1200 :                     RNTABCC:
    1835/    1200 : 5201                	DC.B	'R', 1		; "CCR"
    1836/    1202 : 0000 867D 0000      	DC.L	REGSR+1, RNCCR
             1208 : 127C             
    1837/    120A :                     	
    1838/    120A : 0000                	DC.B	$00,$00		; End mark
    1839/    120C : 0000 0000 0000      	DC.L	0,0
             1212 : 0000             
    1840/    1214 :                     
    1841/    1214 :                     RNTABDF:
    1842/    1214 : 4381                	DC.B	'C', $81	; "DFC"
    1843/    1216 : 0000 8683 0000      	DC.L	REGDFC, RNDFC
             121C : 1298             
    1844/    121E :                     	
    1845/    121E : 0000                	DC.B	$00,$00		; End mark
    1846/    1220 : 0000 0000 0000      	DC.L	0,0
             1226 : 0000             
    1847/    1228 :                     
    1848/    1228 :                     RNTABSF:
    1849/    1228 : 4381                	DC.B	'C', $81	; "SFC"
    1850/    122A : 0000 8682 0000      	DC.L	REGSFC, RNSFC
             1230 : 129F             
    1851/    1232 :                     	
    1852/    1232 : 0000                	DC.B	$00,$00		; End mark
    1853/    1234 : 0000 0000 0000      	DC.L	0,0
             123A : 0000             
    1854/    123C :                     
    1855/    123C :                     RNTABSS:
    1856/    123C : 5003                	DC.B	'P', 3		; "SSP"
    1857/    123E : 0000 8678 0000      	DC.L	REGSSP, RNSSP
             1244 : 12A6             
    1858/    1246 :                     	
    1859/    1246 : 0000                	DC.B	$00,$00		; End mark
    1860/    1248 : 0000 0000 0000      	DC.L	0,0
             124E : 0000             
    1861/    1250 :                     
    1862/    1250 :                     RNTABVB:
    1863/    1250 : 5283                	DC.B	'R', $83	; "VBR"
    1864/    1252 : 0000 867E 0000      	DC.L	REGVBR, RNVBR
             1258 : 12AA             
    1865/    125A :                     	
    1866/    125A : 0000                	DC.B	$00,$00		; End mark
    1867/    125C : 0000 0000 0000      	DC.L	0,0
             1262 : 0000             
    1868/    1264 :                     
    1869/    1264 : 4130 00             RNA0:	DC.B	"A0",$00
    1870/    1267 : 4131 00             RNA1:	DC.B	"A1",$00
    1871/    126A : 4132 00             RNA2:	DC.B	"A2",$00
    1872/    126D : 4133 00             RNA3:	DC.B	"A3",$00
    1873/    1270 : 4134 00             RNA4:	DC.B	"A4",$00
    1874/    1273 : 4135 00             RNA5:	DC.B	"A5",$00
    1875/    1276 : 4136 00             RNA6:	DC.B	"A6",$00
    1876/    1279 : 4137 00             RNA7:	DC.B	"A7",$00
    1877/    127C : 4343 5200           RNCCR:	DC.B	"CCR",$00
    1878/    1280 : 4430 00             RND0:	DC.B	"D0",$00
    1879/    1283 : 4431 00             RND1:	DC.B	"D1",$00
    1880/    1286 : 4432 00             RND2:	DC.B	"D2",$00
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 37 - 10/11/2023 20:38:14


    1881/    1289 : 4433 00             RND3:	DC.B	"D3",$00
    1882/    128C : 4434 00             RND4:	DC.B	"D4",$00
    1883/    128F : 4435 00             RND5:	DC.B	"D5",$00
    1884/    1292 : 4436 00             RND6:	DC.B	"D6",$00
    1885/    1295 : 4437 00             RND7:	DC.B	"D7",$00
    1886/    1298 : 4446 4300           RNDFC:	DC.B	"DFC",$00
    1887/    129C : 5043 00             RNPC:	DC.B	"PC",$00
    1888/    129F : 5346 4300           RNSFC:	DC.B	"SFC",$00
    1889/    12A3 : 5352 00             RNSR:	DC.B	"SR",$00
    1890/    12A6 : 5353 5000           RNSSP:	DC.B	"SSP",$00
    1891/    12AA : 5642 5200           RNVBR:	DC.B	"VBR",$00
    1892/    12AE :                     
    1893/    12AE : 0000 12EE 0000      FCTAB:	DC.L	FCN0,FCN1,FCN2,FCN3
             12B4 : 12F4 0000 12FF 
             12BA : 0000 130D          
    1894/    12BE : 0000 1313 0000      	DC.L	FCN4,FCN5,FCN6,FCN7
             12C4 : 1319 0000 132A 
             12CA : 0000 133E          
    1895/    12CE : 0000 12EE 0000      FCTAB2:	DC.L	FCN0,FCN1,FCN2,FCN3
             12D4 : 12F4 0000 12FF 
             12DA : 0000 130D          
    1896/    12DE : 0000 1313 0000      	DC.L	FCN4,FCN5,FCN6,FCN7A
             12E4 : 1319 0000 132A 
             12EA : 0000 1355          
    1897/    12EE : 4643 3D30 2000      FCN0:	DC.B	"FC=0 ",$00
    1898/    12F4 : 5573 6572 2044      FCN1:	DC.B	"User Data ",$00
             12FA : 6174 6120 00       
    1899/    12FF : 5573 6572 2050      FCN2:	DC.B	"User Program ",$00
             1305 : 726F 6772 616D 
             130B : 2000             
    1900/    130D : 4643 3D33 2000      FCN3:	DC.B	"FC=3 ",$00
    1901/    1313 : 4643 3D34 2000      FCN4:	DC.B	"FC=4 ",$00
    1902/    1319 : 5375 7065 7276      FCN5:	DC.B	"Supervisor Data ",$00
             131F : 6973 6F72 2044 
             1325 : 6174 6120 00       
    1903/    132A : 5375 7065 7276      FCN6:	DC.B	"Supervisor Program ",$00
             1330 : 6973 6F72 2050 
             1336 : 726F 6772 616D 
             133C : 2000             
    1904/    133E : 496E 7465 7272      FCN7:	DC.B	"Interrupt Acknowledge ",$00
             1344 : 7570 7420 4163 
             134A : 6B6E 6F77 6C65 
             1350 : 6467 6520 00       
    1905/    1355 : 4350 5520 00        FCN7A:	DC.B	"CPU ",$00
    1906/    135A : 5772 6974 6520 00   G0WR:	DC.B	"Write ",$00
    1907/    1361 : 5265 6164 2000      G0RD:	DC.B	"Read ",$00
    1908/    1367 : 2020 2849 6E73      G0INS0:	DC.B	"  (Inst=",$00
             136D : 743D 00          
    1909/    1370 : 4279 7465 2000      G0BYTE:	DC.B	"Byte ",$00
    1910/    1376 : 576F 7264 2000      G0WORD:	DC.B	"Word ",$00
    1911/    137C : 2074 6F20 00        G0TO:	DC.B	" to ",$00
    1912/    1381 : 6672 6F6D 2000      G0FROM:	DC.B	"from ",$00
    1913/    1387 : 5370 6163 6520 00   G0SPC:	DC.B	"Space ",$00
    1914/    138E : 2028 496E 7374      G0IF:	DC.B	" (Instruction Fetch)",$00
             1394 : 7275 6374 696F 
             139A : 6E20 4665 7463 
             13A0 : 6829 00          
    1915/    13A3 : 2028 5265 6164      G0RMW:	DC.B	" (Read Modify Write)",$00
             13A9 : 204D 6F64 6966 
             13AF : 7920 5772 6974 
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 38 - 10/11/2023 20:38:14


             13B5 : 6529 00          
    1916/    13B8 : [1676]              	ENDIF
    1917/    13B8 :                     
    1918/    13B8 :                     	;; Stack frame size (WORD) for each format
    1919/    13B8 :                     FMTLEN:
    1920/    13B8 : 04                  	DC.B	4		; 0000 (68010,68020,SCC68070)
    1921/    13B9 : 04                  	DC.B	4		; 0001 Throw Away (68020)
    1922/    13BA : 06                  	DC.B	6		; 0010 (68020)
    1923/    13BB : 06                  	DC.B	6		; 0011
    1924/    13BC : 08                  	DC.B	8		; 0100
    1925/    13BD : 00                  	DC.B	0		; 0101
    1926/    13BE : 00                  	DC.B	0		; 0110
    1927/    13BF : 1E                  	DC.B	30		; 0111
    1928/    13C0 : 1D                  	DC.B	29		; 1000 Bus Error, Address Error (68010)
    1929/    13C1 : 0A                  	DC.B	10		; 1001 Coprocessor Midinstruction (68020)
    1930/    13C2 : 10                  	DC.B	16		; 1010 Short Bus Fault (68020,68030)
    1931/    13C3 : 2E                  	DC.B	46		; 1011 Long Bus Fault (68020,68030)
    1932/    13C4 : 0C                  	DC.B	12		; 1100 Bus Error (CPU32)
    1933/    13C5 : 00                  	DC.B	0		; 1101
    1934/    13C6 : 00                  	DC.B	0		; 1110
    1935/    13C7 : 11                  	DC.B	17		; 1111 (SCC68070)
    1936/    13C8 :                     
    1937/    13C8 :                     
    1938/    13C8 :                     	ALIGN	2
    1939/    13C8 :                     
    1940/    13C8 : =>TRUE              	IF USE_DEV_6850
    1941/    13C8 :                     	INCLUDE	"dev/dev_6850.asm"
(1)    1/    13C8 :                     ;;;
(1)    2/    13C8 :                     ;;;	MC6850 (ACIA) Console Driver
(1)    3/    13C8 :                     ;;;
(1)    4/    13C8 :                     
(1)    5/    13C8 :                     INIT:
(1)    6/    13C8 :                     ;	MOVE.B	#$03,ACIAC	; Master reset
(1)    7/    13C8 :                     ;	NOP
(1)    8/    13C8 :                     ;	NOP
(1)    9/    13C8 :                     ;	MOVE.B	#CR_V,ACIAC	; x16 8bit N 1
(1)   10/    13C8 :                     
(1)   11/    13C8 : 4E75                	RTS
(1)   12/    13CA :                     
(1)   13/    13CA :                     CONIN:
(1)   14/    13CA : 1039 4000 0001      	MOVE.B	ACIAC,D0
(1)   15/    13D0 : C03C 0001           	AND.B	#$01,D0
(1)   16/    13D4 : 67F4                	BEQ	CONIN
(1)   17/    13D6 : 1039 4000 0000      	MOVE.B	ACIAD,D0
(1)   18/    13DC :                     
(1)   19/    13DC : 4E75                	RTS
(1)   20/    13DE :                     
(1)   21/    13DE :                     CONST:
(1)   22/    13DE : 1039 4000 0001      	MOVE.B	ACIAC,D0
(1)   23/    13E4 : C03C 0001           	AND.B	#$01,D0
(1)   24/    13E8 :                     
(1)   25/    13E8 : 4E75                	RTS
(1)   26/    13EA :                     
(1)   27/    13EA :                     CONOUT:
(1)   28/    13EA : 4840                	SWAP	D0
(1)   29/    13EC :                     CO0:
(1)   30/    13EC : 1039 4000 0001      	MOVE.B	ACIAC,D0
(1)   31/    13F2 : C03C 0002           	AND.B	#$02,D0
(1)   32/    13F6 : 67F4                	BEQ	CO0
(1)   33/    13F8 : 4840                	SWAP	D0
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm(dev/dev_6850.asm) - Page 39 - 10/11/2023 20:38:14


(1)   34/    13FA : 13C0 4000 0000      	MOVE.B	D0,ACIAD
(1)   35/    1400 :                     
(1)   36/    1400 : 4E75                	RTS
(1)   37/    1402 :                     
    1942/    1402 : [1940]              	ENDIF
    1943/    1402 :                     
    1944/    1402 : =>FALSE             	IF USE_DEV_68681
    1945/    1402 :                     	INCLUDE	"dev/dev_68681.asm"
    1946/    1402 : [1944]              	ENDIF
    1947/    1402 :                     
    1948/    1402 : =>FALSE             	IF USE_DEV_68901
    1949/    1402 :                     	INCLUDE	"dev/dev_68901.asm"
    1950/    1402 : [1948]              	ENDIF
    1951/    1402 :                     
    1952/    1402 : =>FALSE             	IF USE_DEV_EMILY
    1953/    1402 :                     	INCLUDE	"dev/dev_emily.asm"
    1954/    1402 : [1952]              	ENDIF
    1955/    1402 :                     
    1956/    1402 :                     ROM_E:
    1957/    1402 :                     
    1958/    1402 :                     ;;;
    1959/    1402 :                     ;;; RAM area
    1960/    1402 :                     ;;;
    1961/    1402 :                     
    1962/    8600 :                     	ORG	WORK_B
    1963/    8600 :                     
    1964/    8600 :                     INBUF:	DS.B	BUFLEN		; Line input buffer
    1965/    8618 :                     DSADDR:	DS.L	1		; DUMP start address
    1966/    861C :                     DEADDR:	DS.L	1
    1967/    8620 :                     DSTATE:	DS.B	1
    1968/    8621 :                     	ALIGN	2
    1969/    8622 :                     GADDR:	DS.L	1
    1970/    8626 :                     SADDR:	DS.L	1		; SET address
    1971/    862A :                     HEXMOD:	DS.B	1		; HEX file mode
    1972/    862B :                     RECTYP:	DS.B	1		; Record type
    1973/    862C :                     PSPEC:	DS.B	1		; Processor spec.
    1974/    862D :                     
    1975/    862D :                     	ALIGN	2
    1976/    862E :                     
    1977/    862E :                     EXMSG:	DS.L	1		; Exception message
    1978/    8632 :                     EXGRP:	DS.W	1		; Exception Group
    1979/    8634 :                     
    1980/    8634 :                     REG_B:
    1981/    8634 :                     REGPC:	DS.L	1
    1982/    8638 :                     
    1983/    8638 :                     REGD0:	DS.L	1
    1984/    863C :                     REGD1:	DS.L	1
    1985/    8640 :                     REGD2:	DS.L	1
    1986/    8644 :                     REGD3:	DS.L	1
    1987/    8648 : =>TRUE              	IF USE_REGCMD
    1988/    8648 :                     REGD4:	DS.L	1
    1989/    864C :                     REGD5:	DS.L	1
    1990/    8650 :                     REGD6:	DS.L	1
    1991/    8654 :                     REGD7:	DS.L	1
    1992/    8658 : [1987]              	ENDIF
    1993/    8658 :                     
    1994/    8658 :                     REGA0:	DS.L	1
    1995/    865C :                     REGA1:	DS.L	1
    1996/    8660 :                     REGA2:	DS.L	1
    1997/    8664 :                     REGA3:	DS.L	1
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 40 - 10/11/2023 20:38:14


    1998/    8668 : =>TRUE              	IF USE_REGCMD
    1999/    8668 :                     REGA4:	DS.L	1
    2000/    866C :                     REGA5:	DS.L	1
    2001/    8670 :                     REGA6:	DS.L	1
    2002/    8674 :                     REGA7:	DS.L	1		; USP
    2003/    8678 :                     
    2004/    8678 :                     REGSSP:	DS.L	1
    2005/    867C :                     REGSR:	DS.W	1
    2006/    867E :                     REGVBR:	DS.L	1
    2007/    8682 :                     REGSFC:	DS.B	1
    2008/    8683 :                     REGDFC:	DS.B	1
    2009/    8684 :                     
    2010/    8684 :                     GR0BUF:	DS.W	46-4		; Group 0 exception
    2011/    86D8 :                     REGFV:	DS.W	1		; Format / Vector offset
    2012/    86DA :                     REG_E:
    2013/    86DA :                     
    2014/    86DA : [1998]              	ENDIF
    2015/    86DA :                     
    2016/    86DA :                     	END
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 41 - 10/11/2023 20:38:14


  Symbol Table (* = unused):
  --------------------------

 ACIAC :                   40000001 - |  ACIAD :                   40000000 - |
 ADDERR_H :                     884 C |  ADDERR_M :                     E56 C |
*ARCHITECTURE :                                        "i386-unknown-win32" - |
 BREAK :                        90C C |  BREAK_M :                      F79 C |
 BS :                             8 - |  BUFLEN :                        18 - |
 BUSERR_H :                     870 C |  BUSERR_M :                     E4C C |
*CASESENSITIVE :                  0 - |  CH0 :                          B48 C |
 CH1 :                          BA6 C |  CH2 :                          BAC C |
 CH4 :                          BCA C |  CHK_H :                        938 C |
 CHK_M :                        E84 C |  CO0 :                         13EC C |
 COMM_H :                       B24 C |  COMM_H0 :                      B2C C |
 CONIN :                       13CA C |  CONOUT :                      13EA C |
 CONST :                       13DE C | *CONSTPI :        3.141592653589793 - |
 CR :                             D - |  CRLF :                         7A4 C |
 CSTART :                        C0 C | *DATE :                "10/11/2023" - |
 DEADDR :                      861C C |  DEL :                           7F - |
 DMYRTM :                       DAA C |  DP0 :                          1DE C |
 DP1 :                          200 C |  DPB :                          2AC C |
 DPB0 :                         2C0 C |  DPB1 :                         2D2 C |
 DPB2 :                         2D6 C |  DPB3 :                         2EE C |
 DPL :                          258 C |  DPL0 :                         270 C |
 DPL1 :                         288 C |  DPL2 :                         29C C |
 DPL3 :                         2A4 C |  DPM :                          21E C |
 DPM0 :                         22C C |  DPM1 :                         24A C |
 DSADDR :                      8618 C |  DSEP0 :                        DEF C |
 DSEP1 :                        DF2 C | *DSTATE :                      8620 C |
 DUMMY_H :                      86E C |  DUMP :                         1B4 C |
 ERR :                          1AA C |  ERRMSG :                       DE7 C |
 EXGRP :                       8632 C |  EXMSG :                       862E C |
*FALSE :                          0 - |  FCN0 :                        12EE C |
 FCN1 :                        12F4 C |  FCN2 :                        12FF C |
 FCN3 :                        130D C |  FCN4 :                        1313 C |
 FCN5 :                        1319 C |  FCN6 :                        132A C |
 FCN7 :                        133E C |  FCN7A :                       1355 C |
 FCTAB :                       12AE C |  FCTAB2 :                      12CE C |
 FMTLEN :                      13B8 C |  FORMAT_H :                     9BC C |
 FORMAT_M :                     EE6 C | *FULLPMMU :                       0 - |
 G0 :                           30E C |  G0BYTE :                      1370 C |
 G0D00 :                        C04 C |  G0D01 :                        C08 C |
 G0D1 :                         C34 C |  G0D10 :                        C7A C |
 G0D11 :                        C7E C |  G0D12 :                        C94 C |
 G0D13 :                        C98 C |  G0D14 :                        CC0 C |
 G0D15 :                        CC8 C |  G0D16 :                        CD2 C |
 G0D17 :                        CD6 C |  G0D18 :                        CF8 C |
 G0D19 :                        D0C C |  G0D2 :                         D10 C |
 G0D20 :                        D1C C |  G0D3 :                         D1C C |
*G0D9 :                         D1C C |  G0D90 :                        D82 C |
 G0D91 :                        D9C C |  G0D92 :                        DA6 C |
 G0DUMP :                       BD2 C |  G0FROM :                      1381 C |
 G0IF :                        138E C |  G0INS0 :                      1367 C |
 G0RD :                        1361 C |  G0RMW :                       13A3 C |
 G0SPC :                       1387 C |  G0TO :                        137C C |
 G0WORD :                      1376 C |  G0WR :                        135A C |
 G1 :                           34C C |  GADDR :                       8622 C |
 GETLIN :                       7B4 C |  GL0 :                          7BC C |
 GLB :                          7F4 C |  GLE :                          816 C |
 GO :                           2F4 C |  GR0BUF :                      8684 C |
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 42 - 10/11/2023 20:38:14


*HAS64 :                          0 - | *HASFPU :                         0 - |
*HASPMMU :                        0 - |  HEXIN :                        76E C |
 HEXMOD :                      862A C |  HEXOUT1 :                      756 C |
 HEXOUT2 :                      74E C |  HEXOUT4 :                      746 C |
 HEXOUT8 :                      73E C |  HI0 :                          774 C |
 HI1 :                          79A C |  HIR :                          7A0 C |
 ID0 :                          130 C |  ID1 :                          134 C |
 ID2 :                          148 C |  ID3 :                          148 C |
 ID9 :                          158 C |  IHEMSG :                       DCD C |
 IHEXER :                       DF6 C |  ILLINS0 :                      8AE C |
 ILLINS1 :                      8BE C |  ILLINS2 :                      8DA C |
*ILLINS9 :                      8DA C |  ILLINS_H :                     898 C |
 ILLINS_M :                     E64 C |  IM000 :                        E11 C |
 IM010 :                        E1B C |  IM020 :                        E25 C |
 IM030 :                        E2F C |  INBUF :                       8600 C |
 INIR0 :                        100 C |  INIT :                        13C8 C |
 INIVEC :                         0 C | *INIVECE :                       C0 C |
*INSUPMODE :                      1 - |  L1010_H :                      990 C |
 L1010_M :                      EC0 C |  L1111_H :                      9A6 C |
 L1111_M :                      ED3 C |  LF :                             A - |
 LH0 :                          410 C | *LH1 :                          420 C |
 LH2 :                          426 C |  LH3 :                          432 C |
 LHI0 :                         438 C |  LHI1 :                         46C C |
 LHI2 :                         47C C |  LHI3 :                         480 C |
 LHIE :                         494 C |  LHS0 :                         4A0 C |
 LHS1 :                         4D2 C |  LHS2 :                         4E4 C |
 LHS3 :                         4E8 C |  LHSE :                         502 C |
 LHSR :                         50A C | *LISTON :                         1 - |
 LOADH :                        3F6 C | *MACEXP :                         7 - |
 MDESC :                        E3C C | *MOMCPU :                     68030 - |
*MOMCPUNAME :               "68030" - |  MPU_SPEC :                       0 - |
*NESTMAX :                      100 - |  OPNMSG :                       DAE C |
*PADDING :                        1 - |  PRIV_H :                       964 C |
 PRIV_M :                       EA6 C |  PROMPT :                       DCA C |
 PSPEC :                       862C C |  RD0 :                          6F6 C |
 RD00 :                         708 C |  RD1 :                          71E C |
 RD2 :                          72A C |  RDHEX :                        83A C |
 RDSA07 :                      1065 C |  RDSC :                        1092 C |
 RDSCS :                       1094 C |  RDSD07 :                      105E C |
 RDSDFC :                      108C C |  RDSPC :                       106E C |
 RDSSFC :                      1086 C |  RDSSR :                       107A C |
 RDSSSP :                      1074 C |  RDSVBR :                      107F C |
 RDTAB :                        F80 C |  RDUMP :                        6F2 C |
 RECTYP :                      862B C |  REG :                          626 C |
 REGA0 :                       8658 C |  REGA1 :                       865C C |
 REGA2 :                       8660 C |  REGA3 :                       8664 C |
 REGA4 :                       8668 C |  REGA5 :                       866C C |
 REGA6 :                       8670 C |  REGA7 :                       8674 C |
 REGD0 :                       8638 C |  REGD1 :                       863C C |
 REGD2 :                       8640 C |  REGD3 :                       8644 C |
 REGD4 :                       8648 C |  REGD5 :                       864C C |
 REGD6 :                       8650 C |  REGD7 :                       8654 C |
 REGDFC :                      8683 C |  REGFV :                       86D8 C |
 REGPC :                       8634 C |  REGSFC :                      8682 C |
 REGSR :                       867C C |  REGSSP :                      8678 C |
 REGVBR :                      867E C |  REG_B :                       8634 C |
 REG_E :                       86DA C | *RELAXED :                        0 - |
 RG0 :                          63E C |  RG1 :                          642 C |
 RG2 :                          656 C |  RG3 :                          66C C |
 RG30 :                         67C C |  RG4 :                          6A2 C |
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 43 - 10/11/2023 20:38:14


 RG5 :                          6B0 C |  RG6 :                          6B6 C |
 RG7 :                          6DE C |  RG8 :                          6E8 C |
 RG9 :                          6EA C |  RGE :                          6EE C |
 RGR :                          6EA C |  RH0 :                          83E C |
 RH1 :                          85E C |  RHE :                          86C C |
 RNA0 :                        1264 C |  RNA1 :                        1267 C |
 RNA2 :                        126A C |  RNA3 :                        126D C |
 RNA4 :                        1270 C |  RNA5 :                        1273 C |
 RNA6 :                        1276 C |  RNA7 :                        1279 C |
 RNCCR :                       127C C |  RND0 :                        1280 C |
 RND1 :                        1283 C |  RND2 :                        1286 C |
 RND3 :                        1289 C |  RND4 :                        128C C |
 RND5 :                        128F C |  RND6 :                        1292 C |
 RND7 :                        1295 C |  RNDFC :                       1298 C |
 RNPC :                        129C C |  RNSFC :                       129F C |
 RNSR :                        12A3 C |  RNSSP :                       12A6 C |
 RNTAB :                       1098 C |  RNTABA :                      10DE C |
 RNTABC :                      1138 C |  RNTABCC :                     1200 C |
 RNTABD :                      114C C |  RNTABDF :                     1214 C |
 RNTABP :                      11B0 C |  RNTABS :                      11C4 C |
 RNTABSF :                     1228 C |  RNTABSS :                     123C C |
 RNTABV :                      11EC C |  RNTABVB :                     1250 C |
 RNVBR :                       12AA C |  ROM_B :                          0 - |
 ROM_E :                       1402 C |  SADDR :                       8626 C |
 SAVEH :                        50E C |  SETM :                         36A C |
 SH0 :                          522 C |  SH1 :                          52A C |
*SH2 :                          55E C |  SH3 :                          562 C |
 SH4 :                          57E C |  SHEMSG :                       DDA C |
 SHL :                          58A C |  SHL0 :                         592 C |
 SHLI0 :                        5C8 C |  SHLS :                         5E0 C |
 SHLS0 :                        60E C |  SKIPSP :                       81E C |
 SM0 :                          38A C |  SM1 :                          38A C |
 SM2 :                          3C2 C |  SM3 :                          3D2 C |
 SM4 :                          3E2 C |  SRECER :                       E04 C |
 STACK :                       8FF0 - |  STROE :                        73C C |
 STROUT :                       730 C | *TIME :                  "20:38:14" - |
 TRACE_H :                      97A C |  TRACE_M :                      EBA C |
 TRAP0_H :                      9D2 C |  TRAP0_M :                      EF3 C |
 TRAP10_H :                     AAC C |  TRAP10_M :                     F43 C |
 TRAP11_H :                     AC0 C |  TRAP11_M :                     F4C C |
 TRAP12_H :                     AD4 C |  TRAP12_M :                     F55 C |
 TRAP13_H :                     AE8 C |  TRAP13_M :                     F5E C |
 TRAP14_H :                     AFC C |  TRAP14_M :                     F67 C |
 TRAP15_H :                     B10 C |  TRAP15_M :                     F70 C |
 TRAP1_H :                      9E8 C |  TRAP1_M :                      EFB C |
 TRAP2_H :                      9FE C |  TRAP2_M :                      F03 C |
 TRAP3_H :                      A14 C |  TRAP3_M :                      F0B C |
 TRAP4_H :                      A2A C |  TRAP4_M :                      F13 C |
 TRAP5_H :                      A40 C |  TRAP5_M :                      F1B C |
 TRAP6_H :                      A56 C |  TRAP6_M :                      F23 C |
 TRAP7_H :                      A6C C |  TRAP7_M :                      F2B C |
 TRAP8_H :                      A82 C |  TRAP8_M :                      F33 C |
 TRAP9_H :                      A98 C |  TRAP9_M :                      F3B C |
 TRAPV_H :                      94E C |  TRAPV_M :                      E94 C |
*TRUE :                           1 - |  UPPER :                        828 C |
 UPR :                          838 C |  USE_DEV_6850 :                   1 - |
 USE_DEV_68681 :                  0 - |  USE_DEV_68901 :                  0 - |
 USE_DEV_EMILY :                  0 - |  USE_IDENT :                      1 - |
 USE_REGCMD :                     1 - |  USE_SFDECODE :                   1 - |
 USTACK :                      8500 - | *VECSIZ :                       100 - |
 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 44 - 10/11/2023 20:38:14


*VERSION :                     142F - |  WORK_B :                      8600 - |
 WSTART :                       15C C |  ZERDIV_H :                     922 C |
 ZERDIV_M :                     E78 C |

    358 symbols
     27 unused symbols

 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 45 - 10/11/2023 20:38:14


  Defined Functions:
  ------------------

HIGH                                  | LOW                                  

 AS V1.42 Beta [Bld 246] - Source File unimon_68000.asm - Page 46 - 10/11/2023 20:38:14


  Code Pages:
  ----------

STANDARD (0 changed characters)

1 code page

0.18 seconds assembly time

   2143 lines source file
      6 passes
      0 errors
      0 warnings
